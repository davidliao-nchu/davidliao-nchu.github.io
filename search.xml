<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JS30 第二十九課 (Countdown Timer)</title>
      <link href="/2021/06/23/js30-29/"/>
      <url>/2021/06/23/js30-29/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中 setInterval( ) 函式的使用 <br>複習 dataset、name 及 textContent 等屬性的運用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>setInterval( )</li><li>dataset 與 name</li><li>textContent 修改內容</li></ol><hr><h1 id="setInterval-與-setTimeout"><a href="#setInterval-與-setTimeout" class="headerlink" title="setInterval( ) 與 setTimeout( )"></a>setInterval( ) 與 setTimeout( )</h1><p>先前使用過 setTimeout( )，它可以在給定時間之後執行特定工作，<br>但只執行一次；而 setInterval( ) 則是會一直執行下去，<br>除非我們給定一個判斷式，當判斷成立時使用 clearInterval( ) 清除它。<br>因此，setInterval( ) 就很適合拿來實現倒數計時器，<br>如程式碼第 50~59 行所示。</p><hr><h1 id="複習-dataset、name-以及…"><a href="#複習-dataset、name-以及…" class="headerlink" title="複習 dataset、name 以及…"></a>複習 dataset、name 以及…</h1><ol><li>dataset 一直是個很好用的 DOM 屬性：<ol><li>它可以讓我們藏資料<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;20&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>20 Secs<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">……</span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;3600&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>Lunch Break<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li>選取並獲得資料<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;[data-time]&#x27;</span>) <span class="comment">// dataset的運用!!!</span></span><br><span class="line">buttons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">&#x27;click&#x27;</span>, startTimer))</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">startTimer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> seconds = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.dataset.time) <span class="comment">// dataset的運用!!!</span></span><br><span class="line">      ……</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li></ol></li><li>name 屬性也提供我們另一條選取的好路徑，不一定非得只選 class 或 id <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;customForm&quot;</span> <span class="attr">id</span>=<span class="string">&quot;custom&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;minutes&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter Minutes&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">……</span><br><span class="line"></span><br><span class="line">document.customForm.addEventListener(&#x27;submit&#x27;, e =&gt; &#123; // name的運用!!!</span><br><span class="line">  e.preventDefault()</span><br><span class="line">  const mins = this.minutes.value // name的運用!!!</span><br><span class="line">  ……</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li>form 表單預設都會觸發提交(submit)的動作，我們可以使用 preventDefault( ) 進行攔截，並加入我們想要的動作來取而代之；且表單按鈕觸發後也應清除表單內容，重置表單可用 reset( ) 來達成。</li><li>有許多的 DOM 可以顯示文字內容，則就會具備 textContent 屬性，我們在 JS 當中也可以利用 target.textContent 來訪問或修改其內容。</li><li>三元運算子可以提升程式碼的簡潔度，在簡單的條件式判斷情境下，可大量的運用三元運算子簡化程式碼。  </li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Countdown Timer<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&#x27;https://fonts.googleapis.com/css?family=Inconsolata&#x27;</span> <span class="attr">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;timer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;timer__controls&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;20&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>20 Secs<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;300&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>Work 5<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;900&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>Quick 15<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;1200&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>Snack 20<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-time</span>=<span class="string">&quot;3600&quot;</span> <span class="attr">class</span>=<span class="string">&quot;timer__button&quot;</span>&gt;</span>Lunch Break<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">&quot;customForm&quot;</span> <span class="attr">id</span>=<span class="string">&quot;custom&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;minutes&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Enter Minutes&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;display&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;display__time-left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;display__end-time&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    ;(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      </span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> countdown</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> timerDisplay = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.display__time-left&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> endTime = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.display__end-time&#x27;</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;[data-time]&#x27;</span>) <span class="comment">// dataset的運用!!!</span></span></span><br><span class="line"><span class="javascript">      buttons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">&#x27;click&#x27;</span>, startTimer))</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.customForm.addEventListener(<span class="string">&#x27;submit&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123; <span class="comment">// name的運用!!!</span></span></span><br><span class="line"><span class="javascript">        e.preventDefault()</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> mins = <span class="built_in">this</span>.minutes.value <span class="comment">// name的運用!!!</span></span></span><br><span class="line"><span class="javascript">        timer(mins * <span class="number">60</span>)</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.reset() <span class="comment">// 重置form表單</span></span></span><br><span class="line"><span class="javascript">      &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">timer</span>(<span class="params">seconds</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(countdown) <span class="comment">// clear any existing timers!!</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> now = <span class="built_in">Date</span>.now()</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> then = now + seconds * <span class="number">1000</span>;</span></span><br><span class="line"><span class="javascript">        displayTimeLeft(seconds);</span></span><br><span class="line"><span class="javascript">        displayEndTime(then);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        countdown = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">const</span> secondsLeft = <span class="built_in">Math</span>.round((then - <span class="built_in">Date</span>.now()) / <span class="number">1000</span>)</span></span><br><span class="line"><span class="javascript">          <span class="comment">// check if we should stop it!</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span>(secondsLeft &lt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">clearInterval</span>(countdown)</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span></span></span><br><span class="line"><span class="javascript">          &#125;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// display it</span></span></span><br><span class="line"><span class="javascript">          displayTimeLeft(secondsLeft)</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">1000</span>)</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">displayTimeLeft</span>(<span class="params">seconds</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> minutes = <span class="built_in">Math</span>.floor(seconds / <span class="number">60</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> remainderSeconds = seconds % <span class="number">60</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> display = <span class="string">`<span class="subst">$&#123;minutes&#125;</span>:<span class="subst">$&#123;remainderSeconds &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;&#x27;</span> &#125;</span><span class="subst">$&#123;remainderSeconds&#125;</span>`</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.title = display <span class="comment">// 可以修改頁籤標題!!!</span></span></span><br><span class="line"><span class="javascript">        timerDisplay.textContent = display <span class="comment">// 賦予屬性(文字內容)適當的值(display)</span></span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">displayEndTime</span>(<span class="params">timestamp</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>(timestamp)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> hour = end.getHours()</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> adjustedHour = hour &gt; <span class="number">12</span> ? hour - <span class="number">12</span> : hour</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> minutes = end.getMinutes()</span></span><br><span class="line"><span class="javascript">        endTime.textContent = <span class="string">`Be Back At <span class="subst">$&#123;adjustedHour&#125;</span>:<span class="subst">$&#123;minutes &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> : <span class="string">&#x27;&#x27;</span>&#125;</span><span class="subst">$&#123;minutes&#125;</span>`</span></span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">startTimer</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> seconds = <span class="built_in">parseInt</span>(<span class="built_in">this</span>.dataset.time) <span class="comment">// dataset的運用!!!</span></span></span><br><span class="line"><span class="javascript">        timer(seconds)</span></span><br><span class="line"><span class="javascript">      &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    &#125;)();</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十七課 (Click and Drag)</title>
      <link href="/2021/06/22/js30-27/"/>
      <url>/2021/06/22/js30-27/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中 screenX、pageX、clientX、offsetX 的分別</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>釐清 screenX、pageX、clientX 以及 offsetX</li></ol><hr><h1 id="screenX、pageX、clientX、offsetX"><a href="#screenX、pageX、clientX、offsetX" class="headerlink" title="screenX、pageX、clientX、offsetX"></a>screenX、pageX、clientX、offsetX</h1><p><img src="/images/js30-27-01.png"><br><img src="/images/js30-27-02.png"> </p><p>所以其主要的差異在於：<br>screen 以「<em><strong>螢幕</strong></em>」為基準；<br>page 以「<em><strong>文件</strong></em>」為基準；<br>client 以「<em><strong>瀏覽器</strong></em>」為基準；<br>offset 以「<em><strong>DOM</strong></em>」為基準!!!  </p><hr><h1 id="程式說明"><a href="#程式說明" class="headerlink" title="程式說明"></a>程式說明</h1><ol><li>在 CSS 中，cursor: pointer 可讓鼠標變成手指，而 cursor: grabbing 則可讓其變成抓取某物的拳頭標示。</li><li>第 42 行的 startX 目的只是要找一個基準點而已，所以直接用第 52 行的 e.screenX 也行!!</li><li>本例中 e.pageX 永遠與 e.clientX 相等，應該是因為…?</li><li>我們可透過如第 65 與 66 行的方式，來控制滾動的快慢以及方向。</li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Click and Drag<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;items&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item1&quot;</span>&gt;</span>01<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item2&quot;</span>&gt;</span>02<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item3&quot;</span>&gt;</span>03<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item4&quot;</span>&gt;</span>04<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item5&quot;</span>&gt;</span>05<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item6&quot;</span>&gt;</span>06<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item7&quot;</span>&gt;</span>07<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item8&quot;</span>&gt;</span>08<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item9&quot;</span>&gt;</span>09<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item10&quot;</span>&gt;</span>10<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item11&quot;</span>&gt;</span>11<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item12&quot;</span>&gt;</span>12<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item13&quot;</span>&gt;</span>13<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item14&quot;</span>&gt;</span>14<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item15&quot;</span>&gt;</span>15<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item16&quot;</span>&gt;</span>16<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item17&quot;</span>&gt;</span>17<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item18&quot;</span>&gt;</span>18<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item19&quot;</span>&gt;</span>19<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item20&quot;</span>&gt;</span>20<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item21&quot;</span>&gt;</span>21<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item22&quot;</span>&gt;</span>22<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item23&quot;</span>&gt;</span>23<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item24&quot;</span>&gt;</span>24<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item item25&quot;</span>&gt;</span>25<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  ;(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> slider = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.items&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> isDown = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> startX <span class="comment">// 就要找一個基準點而已!!!</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> scrollLeft <span class="comment">// 捲軸目前已滾動的距離</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    slider.addEventListener(<span class="string">&#x27;mousedown&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(e);</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(&#x27;e.pageX=&#x27;, e.pageX,&#x27;; e.clientX=&#x27;, e.clientX, &#x27;; e.offsetX=&#x27;, e.offsetX);</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      isDown = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">      slider.classList.add(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      startX = e.screenX <span class="comment">// 我們用此作基準點也是可行的…</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// startX = e.pageX - slider.offsetLeft </span></span></span><br><span class="line"><span class="javascript">      </span></span><br><span class="line"><span class="javascript">      scrollLeft = slider.scrollLeft <span class="comment">// slider目前滾動了多少(同43行)</span></span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    slider.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (!isDown) <span class="keyword">return</span>  <span class="comment">// stop the fn from running</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// e.preventDefault() // 作用???</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> x = e.screenX <span class="comment">// 用跟52行相同的來度量即可…</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const x = e.pageX - slider.offsetLeft </span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> walk = (x - startX) * <span class="number">.5</span> <span class="comment">// 後面的倍數可用來控制滾動的快慢</span></span></span><br><span class="line"><span class="javascript">      slider.scrollLeft = scrollLeft - walk <span class="comment">// +/- 可控制滾動的方向</span></span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    slider.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      isDown = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">      slider.classList.remove(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    slider.addEventListener(<span class="string">&#x27;mouseup&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      isDown = <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">      slider.classList.remove(<span class="string">&#x27;active&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  &#125;)();</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十六課 (Follow Along Nav)</title>
      <link href="/2021/06/21/js30-26/"/>
      <url>/2021/06/21/js30-26/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中 getBoundingClientRect( ) 方法的使用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>getBoundingClientRect( )</li><li>搭配 scrollY 取得絕對位置</li></ol><hr><h1 id="getBoundingClientRect"><a href="#getBoundingClientRect" class="headerlink" title="getBoundingClientRect( )"></a>getBoundingClientRect( )</h1><p>我們可以利用 DOM.getBoundingClientRect( ) 來取得<br>DOM 在當前「<strong>螢幕</strong>」上的「相對」位置。<br>它可以回傳回 top、left、width、height 等等資訊，<br>皆以螢幕的左上角為計算原點；因此，<br><span style="color:red">若瀏覽器視窗捲軸有滑動，則這些回傳的資訊也會跟著改變，</span><br>也正因如此，此方法被警告要少用，因為它會一直進行計算，浪費系統資源!!<br>值得一提的，top、left 的值也會為負值，例如捲動超過 DOM 頂端時…。</p><p>因此，為了取得 DOM 的「絕對」位置，我們可以搭配 scrollY !!<br>如程式碼中第 236 與 241 行所示，我們利用 dropdownCoords.top 與<br>scrollY 來求出 dropdownBackground 的絕對位置，<br>再利用 .style.setProperty( ) 更改 CSS 屬性的值，<br>以順利將其背景渲染出來。</p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Follow Along Nav<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: <span class="string">&quot;Arial Rounded MT Bold&quot;</span>, <span class="string">&quot;Helvetica Rounded&quot;</span>, Arial, sans-serif;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>:</span></span><br><span class="line"><span class="css">        <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, <span class="built_in">hsla</span>(<span class="number">340</span>, <span class="number">100%</span>, <span class="number">55%</span>, <span class="number">1</span>) <span class="number">0%</span>, <span class="built_in">hsla</span>(<span class="number">340</span>, <span class="number">100%</span>, <span class="number">55%</span>, <span class="number">0</span>) <span class="number">70%</span>),</span></span><br><span class="line"><span class="css">        <span class="built_in">linear-gradient</span>(<span class="number">135deg</span>, <span class="built_in">hsla</span>(<span class="number">225</span>, <span class="number">95%</span>, <span class="number">50%</span>, <span class="number">1</span>) <span class="number">10%</span>, <span class="built_in">hsla</span>(<span class="number">225</span>, <span class="number">95%</span>, <span class="number">50%</span>, <span class="number">0</span>) <span class="number">80%</span>),</span></span><br><span class="line"><span class="css">        <span class="built_in">linear-gradient</span>(<span class="number">225deg</span>, <span class="built_in">hsla</span>(<span class="number">140</span>, <span class="number">90%</span>, <span class="number">50%</span>, <span class="number">1</span>) <span class="number">10%</span>, <span class="built_in">hsla</span>(<span class="number">140</span>, <span class="number">90%</span>, <span class="number">50%</span>, <span class="number">0</span>) <span class="number">80%</span>),</span></span><br><span class="line"><span class="css">        <span class="built_in">linear-gradient</span>(<span class="number">315deg</span>, <span class="built_in">hsla</span>(<span class="number">35</span>, <span class="number">95%</span>, <span class="number">55%</span>, <span class="number">1</span>) <span class="number">100%</span>, <span class="built_in">hsla</span>(<span class="number">35</span>, <span class="number">95%</span>, <span class="number">55%</span>, <span class="number">0</span>) <span class="number">70%</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">h2</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding-top</span>: .<span class="number">8em</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">nav</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">perspective</span>: <span class="number">600px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.cool</span> &gt; <span class="selector-tag">li</span> &gt; <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: yellow;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.cool</span> &gt; <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.dropdown</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: -<span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">2px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100px</span>);</span></span><br><span class="line"><span class="css">      will-change: opacity;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.trigger-enter</span> <span class="selector-class">.dropdown</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.trigger-enter-active</span> <span class="selector-class">.dropdown</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-class">.dropdownBackground</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">50px</span> <span class="number">100px</span> <span class="built_in">rgba</span>(<span class="number">50</span>,<span class="number">50</span>,<span class="number">93</span>,.<span class="number">1</span>), <span class="number">0</span> <span class="number">15px</span> <span class="number">35px</span> <span class="built_in">rgba</span>(<span class="number">50</span>,<span class="number">50</span>,<span class="number">93</span>,.<span class="number">15</span>), <span class="number">0</span> <span class="number">5px</span> <span class="number">15px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>: all <span class="number">0.3s</span>, opacity <span class="number">0.1s</span>, transform <span class="number">0.2s</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.dropdownBackground</span><span class="selector-class">.open</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">opacity</span>: .<span class="number">3</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>) <span class="built_in">rotate</span>(<span class="number">45deg</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.bio</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">line-height</span>: <span class="number">1.7</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.bio</span> <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.courses</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.courses</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.dropdown</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">a</span><span class="selector-class">.button</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: black;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="comment">/* Matches Twitter, TWITTER, twitter, tWitter, TWiTTeR... */</span></span></span><br><span class="line"><span class="css">    <span class="selector-class">.button</span><span class="selector-attr">[href*=twitter]</span> &#123; <span class="attribute">background</span>: <span class="number">#019FE9</span>; &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.button</span><span class="selector-attr">[href*=facebook]</span> &#123; <span class="attribute">background</span>: <span class="number">#3B5998</span>; &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.button</span><span class="selector-attr">[href*=courses]</span> &#123; <span class="attribute">background</span>: <span class="number">#ffc600</span>; &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dropdownBackground&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;arrow&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Cool<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">&quot;top&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;cool&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>About Me<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dropdown dropdown1&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bio&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://logo.clearbit.com/wesbos.com&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>Wes Bos sure does love web development. He teaches things like JavaScript, CSS and BBQ. Wait. BBQ isn&#x27;t part of web development. It should be though!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Courses<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;dropdown courses&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>RFB<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://ReactForBeginners.com&quot;</span>&gt;</span>React For Beginners<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>ES6<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://ES6.io&quot;</span>&gt;</span>ES6 For Everyone<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>NODE<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://LearnNode.com&quot;</span>&gt;</span>Learn Node<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>STPU<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://SublimeTextBook.com&quot;</span>&gt;</span>Sublime Text Power User<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>WTF<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://Flexbox.io&quot;</span>&gt;</span>What The Flexbox?!<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>GRID<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://CSSGrid.io&quot;</span>&gt;</span>CSS Grid<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>LRX<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://LearnRedux.com&quot;</span>&gt;</span>Learn Redux<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>CLPU<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://CommandLinePowerUser.com&quot;</span>&gt;</span>Command Line Power User<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;code&quot;</span>&gt;</span>MMD<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://MasteringMarkdown.com&quot;</span>&gt;</span>Mastering Markdown<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>Other Links<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;dropdown dropdown3&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://twitter.com/wesbos&quot;</span>&gt;</span>Twitter<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://facebook.com/wesbos.developer&quot;</span>&gt;</span>Facebook<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://wesbos.com&quot;</span>&gt;</span>Blog<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;button&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://wesbos.com/courses&quot;</span>&gt;</span>Course Catalog<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">;(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.cool &gt; li&#x27;</span>)</span></span><br><span class="line"><span class="javascript">  triggers.forEach(<span class="function"><span class="params">trigger</span> =&gt;</span> trigger.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, handleEnter))</span></span><br><span class="line"><span class="javascript">  triggers.forEach(<span class="function"><span class="params">trigger</span> =&gt;</span> trigger.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, handleLeave))</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> background = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.dropdownBackground&#x27;</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.top&#x27;</span>)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">handleEnter</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.classList.add(<span class="string">&#x27;trigger-enter&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="built_in">this</span>.classList.add(<span class="string">&#x27;trigger-enter-active&#x27;</span>), <span class="number">150</span>)</span></span><br><span class="line"><span class="javascript">    background.classList.add(<span class="string">&#x27;open&#x27;</span>)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> dropdown = <span class="built_in">this</span>.querySelector(<span class="string">&#x27;.dropdown&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> dropdownCoords = dropdown.getBoundingClientRect()</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> navCoords = nav.getBoundingClientRect()</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(dropdownCoords.top, scrollY)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> coords = &#123; <span class="comment">// 物件</span></span></span><br><span class="line"><span class="javascript">      <span class="attr">height</span>: dropdownCoords.height,</span></span><br><span class="line"><span class="javascript">      <span class="attr">width</span>: dropdownCoords.width,</span></span><br><span class="line"><span class="javascript">      <span class="attr">top</span>: dropdownCoords.top + scrollY,</span></span><br><span class="line"><span class="javascript">      <span class="attr">left</span>: dropdownCoords.left</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    background.style.setProperty(<span class="string">&#x27;width&#x27;</span>, <span class="string">`<span class="subst">$&#123;coords.width&#125;</span>px`</span>)</span></span><br><span class="line"><span class="javascript">    background.style.setProperty(<span class="string">&#x27;height&#x27;</span>, <span class="string">`<span class="subst">$&#123;coords.height&#125;</span>px`</span>)</span></span><br><span class="line"><span class="javascript">    background.style.setProperty(<span class="string">&#x27;transform&#x27;</span>, <span class="string">`translate(<span class="subst">$&#123;coords.left&#125;</span>px, <span class="subst">$&#123;coords.top&#125;</span>px)`</span>)</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">handleLeave</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.classList.remove(<span class="string">&#x27;trigger-enter&#x27;</span>, <span class="string">&#x27;trigger-enter-active&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    background.classList.remove(<span class="string">&#x27;open&#x27;</span>)</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">&#125;)();</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十五課 (Understanding JavaScript&#39;s Capture)</title>
      <link href="/2021/06/20/js30-25/"/>
      <url>/2021/06/20/js30-25/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中監聽事件冒泡(Bubbling) 的特性與處理  </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>監聽事件的傳遞</li><li>什麼時侯會「冒泡」?</li><li>使用 event.stopPropagation( ) 阻止冒泡</li></ol><hr><h1 id="addEventListener-的參數們"><a href="#addEventListener-的參數們" class="headerlink" title="addEventListener 的參數們"></a>addEventListener 的參數們</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">Event.target.addEventListener( type, <span class="function"><span class="keyword">function</span>, </span>&#123;</span><br><span class="line">  <span class="attr">capture</span>: <span class="literal">true</span>/<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">once</span>: <span class="literal">true</span>/<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">passive</span>: <span class="literal">true</span>/<span class="literal">false</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>  <p>其中參數說明如下：</p><ol><li>type: 監聽的類型</li><li>function: 事件發生時的回呼函式</li><li>capture: 切換capture/bubbling模式，前者由大到小；後者由小至大</li><li>passive: 若為真，則不能使用 event.preventDefault( )  </li></ol><hr><h1 id="「冒泡」"><a href="#「冒泡」" class="headerlink" title="「冒泡」?"></a>「冒泡」?</h1><p>那麼，事件的「冒泡」在何時會發生呢?<br><img src="/images/js30-25.png" alt="冒泡"></p><ol><li>具父子關係，且監聽同一類型事件：如圖中的三個色塊皆監聽 click 事件，會冒泡</li><li>具父子關係，但監聽不同類型事件：如圖中第一(紫色)、第二(粉色)色塊與上方的按鈕，色塊監聽 click ，但按鈕監聽 mouseover 時，雖然按鈕沒綁定監聽 click 事件，但在按下按鈕時，<u>仍然會觸發其父層們的監聽 click 事件!!</u> ；；相對的，按鈕的 mouseover 仍以獨立的方式運作，不受影響。</li><li>不具父子關係：如下方的按鈕，不論是 mouseover 或 click ，都不會冒泡</li></ol><p>為了讓程式能夠正確的執行，我們可使用<br>event.stopPropagation( )<br>函式讓冒泡情況不再發生!!!如同程式中第 59 行所示。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Understanding JavaScript&#x27;s Capture<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    *, *:before, *:after &#123; </span></span><br><span class="line"><span class="css">      box-sizing: inherit; </span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.one</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: thistle;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.two</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: mistyrose;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.three</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: coral;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">button</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: darkseagreen;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">&quot;bod&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;one&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;two&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;three&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>Button<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  </span></span><br><span class="line"><span class="javascript">  ;(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;button&#x27;</span>)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">logText</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">this</span>.classList.value)</span></span><br><span class="line"><span class="javascript">      <span class="comment">// e.stopPropagation() // stop bubbling!</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="built_in">this</span>)</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    divs.forEach(<span class="function"><span class="params">div</span> =&gt;</span> div.addEventListener(<span class="string">&#x27;click&#x27;</span>, logText, &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">capture</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">once</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">passive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">    &#125;))</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    buttons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">&#x27;mouseover&#x27;</span>, logText, &#123;</span></span><br><span class="line"><span class="javascript">      <span class="attr">capture</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">once</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">      <span class="attr">passive</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="javascript">    &#125;))</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  &#125;)();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十四課 (Sticky Nav)</title>
      <link href="/2021/06/19/js30-24/"/>
      <url>/2021/06/19/js30-24/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習使用 CSS 與 JS 產生 Sticky NavBar 的效果  </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>transform 可指定變形效果</li><li>transition 可指定變形時長</li></ol><hr><h1 id="流程說明"><a href="#流程說明" class="headerlink" title="流程說明"></a>流程說明</h1><p>為了將 NavBar 固定至頁面頂端，<br>首先我們需要知道 NavBar 元素頂端在整個文件中的位置，<br>而這個 case 可以使用 offsetTop 來獲取，因其父層就是 body；<br>之後，利用 javascript 判斷使用者向下滾動的距離，<br>如果達到或超過 NavBar 的頂部，就加入 CSS 屬性 fixed-nav 在 body 身上，<br>使其固定於頁面上端，並且，為了讓畫面不產生瞬移的現象，<br>也讓之後的內容順利呈現，我們也在 body 上加上 paddingTop 屬性，<br>讓其值等於原先 NavBar 的高度，作為補償。</p><p>另外，現在流行的 NavBar 半透明效果，以及 stick 之後高度縮小，<br>我們也可利用 opacity 和改變 padding 的方式把它們都加進去。<br>所以在 CSS 檔案中，我們總共加入下列程式碼：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-class">.site-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">opacity</span>: .<span class="number">6</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fixed-nav</span> <span class="selector-tag">li</span><span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>並加入下列 javascript ：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;main&#x27;</span>);</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, fixNav);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> topOfNav = nav.offsetTop; <span class="comment">//父層為body</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">window</span>.scrollY &gt;= topOfNav) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.style.paddingTop = nav.offsetHeight + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.add(<span class="string">&#x27;fixed-nav&#x27;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.classList.remove(<span class="string">&#x27;fixed-nav&#x27;</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.style.paddingTop = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十三課 (Speech Synthesis)</title>
      <link href="/2021/06/18/js30-23/"/>
      <url>/2021/06/18/js30-23/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 Speech API 的使用 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>SpeechSynthesisUtterance( )</li><li>speechSynthesis 物件</li></ol><hr><h1 id="Speech-API"><a href="#Speech-API" class="headerlink" title="Speech API"></a>Speech API</h1><ol><li><p>SpeechSynthesisUtterance( ) 會產生一個 speech 的請求，以物件型態表示，包含了發音的內容、聲調、語言、音量…等等資訊。其常用的屬性有：</p><ol><li>SpeechSynthesisUtterance.lang：語言</li><li>SpeechSynthesisUtterance.text：文字內容</li><li>SpeechSynthesisUtterance.voice：聲音</li><li>SpeechSynthesisUtterance.volume：音量</li><li>SpeechSynthesisUtterance.pitch：音調</li><li>SpeechSynthesisUtterance.rate：速度</li></ol></li><li><p>speechSynthesis 是一個語音服務的控制介面，本身就以一個物件的型態存在，可用來獲知(唯讀)當前的狀態是否在播放或暫停，以及提供一些控制的方法讓使用者更改狀態。具體如下：</p><ul><li>獲取狀態<ol><li>SpeechSynthesis.paused：回傳目前是否為暫停的狀態</li><li>SpeechSynthesis.pending：回傳是否還有沒說完的詞句</li><li>SpeechSynthesis.speaking：回傳目前是否正在發聲</li></ol></li><li>方法(method)<ol><li>SpeechSynthesis.getVoices( )：取得不同的發音，如 Alex (en-US)、Mei-Jia (zh-TW)…等等</li><li>SpeechSynthesis.cancel( )：取消所有未完成的工作</li><li>SpeechSynthesis.pause( )：暫停工作</li><li>SpeechSynthesis.resume( )：取消暫停，繼續發音</li><li>SpeechSynthesis.speak( )：開始發音，若有未完成的工作，就將此工作放入佇列中，當前面的發音皆播放完成後，就會播放此段發音。  </li></ol></li></ul></li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Speech Synthesis<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&#x27;https://fonts.googleapis.com/css?family=Pacifico&#x27;</span> <span class="attr">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;voiceinator&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>The Voiceinator 5000<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">&quot;voice&quot;</span> <span class="attr">id</span>=<span class="string">&quot;voices&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span>Select A Voice<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;rate&quot;</span>&gt;</span>Rate:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;rate&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span> <span class="attr">step</span>=<span class="string">&quot;0.1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;pitch&quot;</span>&gt;</span>Pitch:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;pitch&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;2&quot;</span> <span class="attr">step</span>=<span class="string">&quot;0.1&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">&quot;text&quot;</span>&gt;</span>Hello! I love JavaScript 👍<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;stop&quot;</span>&gt;</span>Stop!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;speak&quot;</span>&gt;</span>Speak<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance();</span></span><br><span class="line"><span class="javascript">  speechSynthesis.addEventListener(<span class="string">&#x27;voiceschanged&#x27;</span>, populateVoices);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> voices = [];</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> voicesDropdown = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;[name=&quot;voice&quot;]&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  voicesDropdown.addEventListener(<span class="string">&#x27;change&#x27;</span>, setVoice);</span></span><br><span class="line"><span class="javascript">  </span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> options = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;[type=&quot;range&quot;], [name=&quot;text&quot;]&#x27;</span>); <span class="comment">//逗號是&quot;或&quot;，不是&#x27;and&#x27;</span></span></span><br><span class="line"><span class="javascript">  options.forEach(<span class="function"><span class="params">option</span> =&gt;</span> option.addEventListener(<span class="string">&#x27;change&#x27;</span>, setOption));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> speakButton = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#speak&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  speakButton.addEventListener(<span class="string">&#x27;click&#x27;</span>, toggle);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> stopButton = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#stop&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  stopButton.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> toggle(<span class="literal">false</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">populateVoices</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    voices = <span class="built_in">this</span>.getVoices();</span></span><br><span class="line"><span class="javascript">    voicesDropdown.innerHTML = voices</span></span><br><span class="line"><span class="javascript">      .filter(<span class="function"><span class="params">voice</span> =&gt;</span> voice.lang.includes(<span class="string">&#x27;en&#x27;</span>))</span></span><br><span class="line"><span class="javascript">      .map(<span class="function"><span class="params">voice</span> =&gt;</span> <span class="string">`&lt;option value=&quot;<span class="subst">$&#123;voice.name&#125;</span>&quot;&gt;<span class="subst">$&#123;voice.name&#125;</span> (<span class="subst">$&#123;voice.lang&#125;</span>)&lt;/option&gt;`</span>)</span></span><br><span class="line"><span class="javascript">      .join(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">setVoice</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    msg.voice = voices.find(<span class="function"><span class="params">voice</span> =&gt;</span> voice.name === <span class="built_in">this</span>.value);</span></span><br><span class="line"><span class="javascript">    toggle();</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">startOver = <span class="literal">true</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    speechSynthesis.cancel();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (startOver) &#123;</span></span><br><span class="line"><span class="javascript">      speechSynthesis.speak(msg);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">setOption</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.name, <span class="built_in">this</span>.value);</span></span><br><span class="line"><span class="javascript">    msg[<span class="built_in">this</span>.name] = <span class="built_in">this</span>.value;</span></span><br><span class="line"><span class="javascript">    toggle();</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十二課 (👀👀👀Follow Along Nav)</title>
      <link href="/2021/06/17/js30-22/"/>
      <url>/2021/06/17/js30-22/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">製作文章中某些特定文字的 聚光燈 效果 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>document.createElement( )</li><li>document.XXX.appendChild( )</li><li>.getBoundingClientRect( )</li></ol><hr><h1 id="重點整理"><a href="#重點整理" class="headerlink" title="重點整理"></a>重點整理</h1><ol><li>document.createElement(‘span’) 可在 javascript 中用來創建一個 &lt;span&gt; 元素。</li><li>先前的元素並不會顯示，因為它只被創建，但未被指定要掛載在頁面何處；所以可利用 document.body.appendChild(XXX) 將 XXX 掛載於 body 之下。須注意 XXX <em><strong>不加任何引號</strong></em>!!! 如同程式碼中第 30~32 行為示。</li><li>getBoundingClientRect( ) 是個比 offsetX 更為好用的取位置函數；它可直接回傳該元素的大小、當前在可視區域中的位置等資料：<ol><li>DOMRect.top：元素於當前可視範圍中，與上方邊界的距離</li><li>DOMRect.bottom：元素於當前可視範圍中，與下方邊界的距離</li><li>DOMRect.left：元素於當前可視範圍中，與左邊邊界的距離</li><li>DOMRect.right：元素於當前可視範圍中，與右邊邊界的距離</li><li>DOMRect.x：元素於當前可視範圍中，水平方向的座標</li><li>DOMRect.y：元素於當前可視範圍中，垂直方向的座標</li><li>DOMRect.width：元素的寬</li><li>DOMRect.height：元素的高<br>它可搭配 window.scrollX 等使用，直接獲取該元素處於此網頁的絕對座標；而不用像 offsetX 那樣考慮多個父層元素。如程式碼第 39、40 行所為，相對好用很多!!!  </li></ol></li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>👀👀👀Follow Along Nav<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Order Status<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Tweets<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Read Our History<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>Contact Us<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>consectetur<span class="tag">&lt;/<span class="name">a</span>&gt;</span> adipisicing elit. Est <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>explicabo<span class="tag">&lt;/<span class="name">a</span>&gt;</span> unde natus necessitatibus esse obcaecati distinctio, aut itaque, qui vitae!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Aspernatur sapiente quae sint <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>soluta<span class="tag">&lt;/<span class="name">a</span>&gt;</span> modi, atque praesentium laborum pariatur earum <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>quaerat<span class="tag">&lt;/<span class="name">a</span>&gt;</span> cupiditate consequuntur facilis ullam dignissimos, aperiam quam veniam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Cum ipsam quod, incidunt sit ex <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>tempore<span class="tag">&lt;/<span class="name">a</span>&gt;</span> placeat maxime <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>corrupti<span class="tag">&lt;/<span class="name">a</span>&gt;</span> possimus <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>veritatis<span class="tag">&lt;/<span class="name">a</span>&gt;</span> ipsum fugit recusandae est doloremque? Hic, <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>quibusdam<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, nulla.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Esse quibusdam, ad, ducimus cupiditate <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>nulla<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, quae magni odit <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>totam<span class="tag">&lt;/<span class="name">a</span>&gt;</span> ut consequatur eveniet sunt quam provident sapiente dicta neque quod.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Aliquam <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>dicta<span class="tag">&lt;/<span class="name">a</span>&gt;</span> sequi culpa fugiat <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>consequuntur<span class="tag">&lt;/<span class="name">a</span>&gt;</span> pariatur optio ad minima, maxime <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>odio<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, distinctio magni impedit tempore enim repellendus <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&quot;</span>&gt;</span>repudiandae<span class="tag">&lt;/<span class="name">a</span>&gt;</span> quas!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> spotlight = <span class="built_in">document</span>.createElement(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    spotlight.classList.add(<span class="string">&#x27;highlight&#x27;</span>); <span class="comment">//新創一個span元素並加入highilght屬性</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.body.appendChild(spotlight); <span class="comment">//將新創的span加入body中</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;a&#x27;</span>).forEach(<span class="function"><span class="params">item</span> =&gt;</span> item.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, moveto));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hl = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.highlight&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">moveto</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> position = e.target.getBoundingClientRect(); <span class="comment">//比offsetX更好用!!!</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> x = position.left + <span class="built_in">window</span>.scrollX; </span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> y = position.top + <span class="built_in">window</span>.scrollY;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> width = position.width;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> height = position.height;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      hl.style.left = <span class="string">`<span class="subst">$&#123;x&#125;</span>px`</span>;</span></span><br><span class="line"><span class="javascript">      hl.style.top = <span class="string">`<span class="subst">$&#123;y&#125;</span>px`</span>;</span></span><br><span class="line"><span class="javascript">      hl.style.width = <span class="string">`<span class="subst">$&#123;width&#125;</span>px`</span>;</span></span><br><span class="line"><span class="javascript">      hl.style.height = <span class="string">`<span class="subst">$&#123;height&#125;</span>px`</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二十一課 (Geolocation)</title>
      <link href="/2021/06/16/js30-21/"/>
      <url>/2021/06/16/js30-21/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 Geolocation API 的使用 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>getCurrentPosition( )</li><li>watchPosition( )</li></ol><hr><h1 id="Geolocation-API"><a href="#Geolocation-API" class="headerlink" title="Geolocation API"></a>Geolocation API</h1><p>Geolocation API 為 Web Apps 的 API 其中之一，<br>可以透過 navigator.geolocation 物件來取得使用者的<br>位置、速度、前進方向…等等的相關資訊；當然，這些資訊涉及隱私，<br>因此必須取得使用者的許可之後才能運用與發佈!!!</p><p>常用的 Geolocation API 函式有：</p><ol><li>getCurrentPosition( )，以及</li><li>watchPosition( )。  </li></ol><p>前者可以取得使用者的當前位置，以經度、緯度…方式表示，<br>回傳包含位置相關資訊的物件；<br>後者則是用來追蹤並估計使用者當前前進的方向、速度…等資訊。</p><p>因此我們常用的屬性有：</p><ol><li>coords.latitude：緯度</li><li>coords.longitude：經度</li><li>coords.accuracy：精準度(米)</li><li>coords.altitude：海拔高度(米)</li><li>coords.altitudeAccuracy：海拔精準度(米)</li><li>coords.heading：前進方向的角度(以北方為0度順時針計算)</li><li>coords.speed：速度(米/秒)</li><li>timestamp：回傳時的時間戳記(Unix epoch time)</li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: sans-serif;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>:</span></span><br><span class="line"><span class="css">        <span class="built_in">radial-gradient</span>(black <span class="number">15%</span>, transparent <span class="number">16%</span>) <span class="number">0</span> <span class="number">0</span>,</span></span><br><span class="line"><span class="css">        <span class="built_in">radial-gradient</span>(black <span class="number">15%</span>, transparent <span class="number">16%</span>) <span class="number">8px</span> <span class="number">8px</span>,</span></span><br><span class="line"><span class="css">        <span class="built_in">radial-gradient</span>(<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">1</span>) <span class="number">15%</span>, transparent <span class="number">20%</span>) <span class="number">0</span> <span class="number">1px</span>,</span></span><br><span class="line"><span class="css">        <span class="built_in">radial-gradient</span>(<span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,.<span class="number">1</span>) <span class="number">15%</span>, transparent <span class="number">20%</span>) <span class="number">8px</span> <span class="number">9px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: <span class="number">#282828</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-size</span>: <span class="number">16px</span> <span class="number">16px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-attachment</span>: fixed;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.arrow</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">250px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-weight</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">60px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.units</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    <span class="comment">/*Compass: https://thenounproject.com/search/?q=compass&amp;i=592352*/</span></span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">&quot;arrow&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">xmlns:xlink</span>=<span class="string">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span> <span class="attr">x</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 64 64&quot;</span> <span class="attr">enable-background</span>=<span class="string">&quot;new 0 0 64 64&quot;</span> <span class="attr">xml:space</span>=<span class="string">&quot;preserve&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#ffffff&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M32,1.824C15.361,1.824,1.825,15.361,1.825,32c0,16.639,13.537,30.176,30.175,30.176   S62.175,48.639,62.175,32C62.175,15.361,48.639,1.824,32,1.824z M29.715,3.988h1.12l2.333,3.807V3.988h1.069v5.701h-1.155   l-2.298-3.718v3.718h-1.069V3.988z M9.323,33.917H8.102l-1.136-4.262l-1.132,4.262H4.587l-1.361-5.701h1.178l0.859,3.916   l1.042-3.916h1.369l0.999,3.982l0.875-3.982h1.159L9.323,33.917z M33.995,59.828c-0.181,0.285-0.438,0.497-0.77,0.636   c-0.332,0.139-0.745,0.208-1.241,0.208c-0.721,0-1.274-0.167-1.661-0.5c-0.386-0.333-0.617-0.819-0.692-1.456l1.12-0.109   c0.067,0.376,0.204,0.652,0.41,0.828c0.206,0.176,0.484,0.264,0.834,0.264c0.371,0,0.65-0.078,0.838-0.235   c0.188-0.157,0.282-0.34,0.282-0.55c0-0.135-0.04-0.25-0.119-0.344c-0.079-0.095-0.217-0.177-0.414-0.247   c-0.135-0.047-0.442-0.13-0.922-0.249c-0.617-0.153-1.05-0.341-1.299-0.564c-0.35-0.314-0.525-0.696-0.525-1.147   c0-0.29,0.082-0.562,0.247-0.815c0.165-0.253,0.402-0.445,0.712-0.577c0.31-0.132,0.684-0.198,1.122-0.198   c0.716,0,1.254,0.157,1.616,0.471c0.362,0.314,0.552,0.733,0.57,1.256l-1.151,0.051c-0.049-0.293-0.155-0.504-0.317-0.632   c-0.162-0.128-0.405-0.193-0.729-0.193c-0.334,0-0.596,0.069-0.786,0.206c-0.122,0.088-0.183,0.206-0.183,0.354   c0,0.135,0.057,0.25,0.171,0.346c0.145,0.122,0.498,0.249,1.058,0.381c0.56,0.132,0.974,0.269,1.243,0.41   c0.268,0.141,0.478,0.334,0.63,0.58c0.152,0.245,0.227,0.548,0.227,0.908C34.267,59.237,34.176,59.543,33.995,59.828z M32,52.795   c-11.466,0-20.795-9.329-20.795-20.795c0-11.466,9.329-20.795,20.795-20.795S52.795,20.534,52.795,32   C52.795,43.466,43.466,52.795,32,52.795z M55.014,33.917v-5.701h4.227v0.965h-3.076v1.264h2.862v0.96h-2.862v1.552h3.185v0.961   H55.014z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M48.904,31.863c-4.074-1.358-8.148-2.717-12.226-4.066c-0.265-0.087-0.399-0.223-0.486-0.486    c-1.349-4.077-2.708-8.151-4.066-12.226c-0.029-0.087-0.074-0.169-0.132-0.3c-0.054,0.152-0.09,0.245-0.122,0.34    c-1.352,4.053-2.707,8.104-4.048,12.161c-0.096,0.292-0.246,0.428-0.532,0.522c-4.056,1.342-8.108,2.696-12.16,4.049    c-0.097,0.032-0.189,0.074-0.344,0.137c0.172,0.06,0.267,0.093,0.362,0.125c4.074,1.358,8.148,2.717,12.224,4.072    c0.204,0.068,0.337,0.158,0.412,0.386c1.243,3.757,2.498,7.511,3.75,11.265c0.144,0.432,0.291,0.862,0.463,1.373    c0.068-0.185,0.108-0.285,0.142-0.386c1.349-4.042,2.701-8.083,4.04-12.128c0.094-0.284,0.231-0.438,0.523-0.534    c4.056-1.341,8.108-2.696,12.161-4.048c0.099-0.033,0.195-0.076,0.347-0.137C49.067,31.925,48.987,31.891,48.904,31.863z     M37.475,32.038c-1.316,0.439-2.631,0.879-3.947,1.314c-0.095,0.031-0.139,0.081-0.17,0.173c-0.434,1.313-0.873,2.625-1.311,3.937    c-0.012,0.033-0.024,0.066-0.046,0.126c-0.056-0.166-0.104-0.306-0.15-0.446c-0.407-1.219-0.814-2.437-1.218-3.657    c-0.025-0.074-0.068-0.104-0.134-0.125c-1.323-0.44-2.646-0.881-3.968-1.322c-0.031-0.01-0.062-0.022-0.118-0.041    c0.05-0.02,0.081-0.034,0.112-0.045c1.315-0.439,2.631-0.879,3.947-1.314c0.093-0.03,0.142-0.075,0.173-0.17    c0.435-1.316,0.875-2.632,1.314-3.947c0.01-0.031,0.022-0.062,0.039-0.11c0.019,0.042,0.033,0.069,0.043,0.097    c0.441,1.323,0.882,2.645,1.321,3.969c0.028,0.085,0.072,0.129,0.158,0.158c1.324,0.438,2.646,0.879,3.969,1.32    c0.027,0.009,0.053,0.02,0.1,0.038C37.538,32.013,37.507,32.027,37.475,32.038z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M24.436,27.633c-1.069-2.137-2.119-4.237-3.216-6.43c2.189,1.094,4.292,2.145,6.433,3.216    c-0.359,0.713-0.706,1.404-1.057,2.091c-0.023,0.045-0.078,0.082-0.127,0.106C25.807,26.949,25.143,27.28,24.436,27.633z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M39.573,27.632c-0.696-0.348-1.351-0.673-2.002-1.005c-0.076-0.038-0.155-0.104-0.193-0.177    c-0.338-0.661-0.666-1.326-1.019-2.033c2.121-1.061,4.228-2.115,6.43-3.217C41.69,23.399,40.635,25.509,39.573,27.632z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M24.436,36.339c0.712,0.357,1.394,0.698,2.074,1.043c0.046,0.024,0.088,0.073,0.113,0.121    c0.339,0.671,0.674,1.345,1.028,2.051c-2.126,1.063-4.232,2.117-6.43,3.216C22.317,40.577,23.37,38.472,24.436,36.339z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;#000000&quot;</span> <span class="attr">d</span>=<span class="string">&quot;M36.358,39.555c0.354-0.707,0.688-1.38,1.028-2.05c0.028-0.056,0.084-0.111,0.14-0.139    c0.67-0.339,1.343-0.674,2.047-1.026c1.066,2.131,2.118,4.235,3.215,6.43C40.601,41.676,38.503,40.628,36.358,39.555z&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;position&quot;</span>&gt;</span></span><br><span class="line">    緯度：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;latitude&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span>  <span class="comment">&lt;!--可用.textContent修改其值--&gt;</span></span><br><span class="line">    ，經度：<span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;longitude&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;speed&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;speed-value&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;units&quot;</span>&gt;</span>KM/H<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> latitude = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.latitude&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> longitude = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.longitude&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> speedValue = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.speed-value&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    navigator.geolocation.getCurrentPosition(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        latitude.textContent = data.coords.latitude;</span></span><br><span class="line"><span class="javascript">        longitude.textContent = data.coords.longitude;</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    navigator.geolocation.watchPosition(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(data);</span></span><br><span class="line"><span class="javascript">      speedValue.textContent = data.coords.speed;</span></span><br><span class="line"><span class="javascript">      arrow.style.transform = <span class="string">`rotate(<span class="subst">$&#123;data.coords.heading&#125;</span>deg)`</span>;</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.error(err);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><div class="alert alert-warning" style="font-size=16px;">附註：<br>我們可以使用 .textContent 來動態改變 &lt;span&gt; 裡的值；<br>如同第 72、73 與 78 行程式碼所為!!! <br></div>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十八課 (Videos)</title>
      <link href="/2021/06/15/js30-18/"/>
      <url>/2021/06/15/js30-18/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 Math.floor 函數與陣列的複習 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>Math.floor( )</p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><p>Math.floor(num) 是取 「最接近 num 但小於等於 num 的整數」，<br>所以在程式碼第 195、196 行，我們用它來換算 17938 秒是<br>多少小時與多少分鍾。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;videos&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:43&quot;</span>&gt;</span></span><br><span class="line">      Video 1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;2:33&quot;</span>&gt;</span></span><br><span class="line">      Video 2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:45&quot;</span>&gt;</span></span><br><span class="line">      Video 3</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;0:47&quot;</span>&gt;</span></span><br><span class="line">      Video 4</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:21&quot;</span>&gt;</span></span><br><span class="line">      Video 5</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;6:56&quot;</span>&gt;</span></span><br><span class="line">      Video 6</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:46&quot;</span>&gt;</span></span><br><span class="line">      Video 7</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:25&quot;</span>&gt;</span></span><br><span class="line">      Video 8</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:14&quot;</span>&gt;</span></span><br><span class="line">      Video 9</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:31&quot;</span>&gt;</span></span><br><span class="line">      Video 10</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:59&quot;</span>&gt;</span></span><br><span class="line">      Video 11</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:07&quot;</span>&gt;</span></span><br><span class="line">      Video 12</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;11:29&quot;</span>&gt;</span></span><br><span class="line">      Video 13</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;8:57&quot;</span>&gt;</span></span><br><span class="line">      Video 14</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:49&quot;</span>&gt;</span></span><br><span class="line">      Video 15</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:52&quot;</span>&gt;</span></span><br><span class="line">      Video 16</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:50&quot;</span>&gt;</span></span><br><span class="line">      Video 17</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;9:13&quot;</span>&gt;</span></span><br><span class="line">      Video 18</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;11:51&quot;</span>&gt;</span></span><br><span class="line">      Video 19</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;7:58&quot;</span>&gt;</span></span><br><span class="line">      Video 20</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:40&quot;</span>&gt;</span></span><br><span class="line">      Video 21</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:45&quot;</span>&gt;</span></span><br><span class="line">      Video 22</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;6:46&quot;</span>&gt;</span></span><br><span class="line">      Video 23</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;7:24&quot;</span>&gt;</span></span><br><span class="line">      Video 24</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;7:12&quot;</span>&gt;</span></span><br><span class="line">      Video 25</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:23&quot;</span>&gt;</span></span><br><span class="line">      Video 26</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:34&quot;</span>&gt;</span></span><br><span class="line">      Video 27</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;8:22&quot;</span>&gt;</span></span><br><span class="line">      Video 28</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:17&quot;</span>&gt;</span></span><br><span class="line">      Video 29</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:10&quot;</span>&gt;</span></span><br><span class="line">      Video 30</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:43&quot;</span>&gt;</span></span><br><span class="line">      Video 31</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;19:43&quot;</span>&gt;</span></span><br><span class="line">      Video 32</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;0:47&quot;</span>&gt;</span></span><br><span class="line">      Video 33</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;0:47&quot;</span>&gt;</span></span><br><span class="line">      Video 34</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:14&quot;</span>&gt;</span></span><br><span class="line">      Video 35</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:59&quot;</span>&gt;</span></span><br><span class="line">      Video 36</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;2:43&quot;</span>&gt;</span></span><br><span class="line">      Video 37</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:17&quot;</span>&gt;</span></span><br><span class="line">      Video 38</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;6:56&quot;</span>&gt;</span></span><br><span class="line">      Video 39</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:05&quot;</span>&gt;</span></span><br><span class="line">      Video 40</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;2:06&quot;</span>&gt;</span></span><br><span class="line">      Video 41</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;1:59&quot;</span>&gt;</span></span><br><span class="line">      Video 42</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;1:49&quot;</span>&gt;</span></span><br><span class="line">      Video 43</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:36&quot;</span>&gt;</span></span><br><span class="line">      Video 44</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;7:10&quot;</span>&gt;</span></span><br><span class="line">      Video 45</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:44&quot;</span>&gt;</span></span><br><span class="line">      Video 46</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:44&quot;</span>&gt;</span></span><br><span class="line">      Video 47</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:36&quot;</span>&gt;</span></span><br><span class="line">      Video 48</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:16&quot;</span>&gt;</span></span><br><span class="line">      Video 49</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;1:10&quot;</span>&gt;</span></span><br><span class="line">      Video 50</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;6:10&quot;</span>&gt;</span></span><br><span class="line">      Video 51</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;2:14&quot;</span>&gt;</span></span><br><span class="line">      Video 52</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;3:44&quot;</span>&gt;</span></span><br><span class="line">      Video 53</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;5:05&quot;</span>&gt;</span></span><br><span class="line">      Video 54</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;6:03&quot;</span>&gt;</span></span><br><span class="line">      Video 55</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;12:39&quot;</span>&gt;</span></span><br><span class="line">      Video 56</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;1:56&quot;</span>&gt;</span></span><br><span class="line">      Video 57</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">&quot;4:04&quot;</span>&gt;</span></span><br><span class="line">      Video 58</span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> all_li = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;[data-time]&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> total_secs = all_li.reduce(<span class="function">(<span class="params">sum, item</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> time = item.dataset.time;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> arr = time.split(<span class="string">&#x27;:&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> secs = arr[<span class="number">0</span>]*<span class="number">60</span> + arr[<span class="number">1</span>]*<span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> sum + secs;</span></span><br><span class="line"><span class="javascript">  &#125;,<span class="number">0</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(total_secs); <span class="comment">//17938</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> h = <span class="built_in">Math</span>.floor(total_secs / <span class="number">3600</span>); <span class="comment">//4</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> m = <span class="built_in">Math</span>.floor((total_secs - h * <span class="number">3600</span>) / <span class="number">60</span>); <span class="comment">//58</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> s = total_secs - h * <span class="number">3600</span> - m * <span class="number">60</span>; <span class="comment">//58</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;h&#125;</span> : <span class="subst">$&#123;m&#125;</span> : <span class="subst">$&#123;s&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十七課 (Sort Without Articles)</title>
      <link href="/2021/06/14/js30-17/"/>
      <url>/2021/06/14/js30-17/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習字符串的處理 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>對字串作切割、比對、以及排序</p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><p>本案例利用正則表達式將每個字符串的 ‘a ‘、’the ‘、’an ‘ 刪除，<br>並以刪除後的字串進行 alphbet 的比對來進行排序。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Sort Without Articles<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: sans-serif;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;https://source.unsplash.com/nDqA4d5NL0k/2000x2000&quot;</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#bands</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">list-style</span>: inside square;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">500px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: auto;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.05</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-id">#bands</span> <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#efefef</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-id">#bands</span> <span class="selector-tag">li</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;bands&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> bands = [<span class="string">&#x27;The Plot in You&#x27;</span>, <span class="string">&#x27;The Devil Wears Prada&#x27;</span>, <span class="string">&#x27;Pierce the Veil&#x27;</span>, <span class="string">&#x27;Norma Jean&#x27;</span>, <span class="string">&#x27;The Bled&#x27;</span>, <span class="string">&#x27;Say Anything&#x27;</span>, <span class="string">&#x27;The Midway State&#x27;</span>, <span class="string">&#x27;We Came as Romans&#x27;</span>, <span class="string">&#x27;Counterparts&#x27;</span>, <span class="string">&#x27;Oh, Sleeper&#x27;</span>, <span class="string">&#x27;A Skylit Drive&#x27;</span>, <span class="string">&#x27;Anywhere But Here&#x27;</span>, <span class="string">&#x27;An Old Dog&#x27;</span>];</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">strip</span>(<span class="params">bandName</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">return</span> bandName.replace(<span class="regexp">/^(a |the |an )/i</span>, <span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> sortedBands = bands.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> strip(a) &gt; strip(b) ? <span class="number">1</span> : -<span class="number">1</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;bands&#x27;</span>).innerHTML =</span></span><br><span class="line"><span class="javascript">  sortedBands</span></span><br><span class="line"><span class="javascript">    .map(<span class="function"><span class="params">band</span> =&gt;</span> <span class="string">`&lt;li&gt;&lt;a&gt;<span class="subst">$&#123;band&#125;</span>&lt;/a&gt;&lt;/li&gt;`</span>)</span></span><br><span class="line"><span class="javascript">    .join(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(sortedBands);</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.table(sortedBands);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure> <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十六課 (🔥WOAH!)</title>
      <link href="/2021/06/13/js30-16/"/>
      <url>/2021/06/13/js30-16/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習利用 mousemove 與 text-shadow 製作文字影分身 </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>text-shadow 是什麼?</li></ol><hr><h1 id="text-shadow-in-CSS"><a href="#text-shadow-in-CSS" class="headerlink" title="text-shadow in CSS"></a>text-shadow in CSS</h1><p>text-shadow 是 CSS 中可用於幫文字加入陰影的屬性，<br>它的語法如下：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* offset-x | offset-y | blur-radius | color */</span></span><br><span class="line"><span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">2px</span> black;</span><br></pre></td></tr></table></figure><p>善用這屬性，甚至可以幫文字作到內外嵌的效果，如：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#effect01</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white; </span><br><span class="line">    <span class="attribute">text-shadow</span>: black <span class="number">0.1em</span> <span class="number">0.1em</span> <span class="number">0.2em</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#effect02</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: gray;</span><br><span class="line">    <span class="attribute">text-shadow</span>: -<span class="number">1px</span> -<span class="number">1px</span> white, <span class="number">1px</span> <span class="number">1px</span> <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#effect03</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: gray;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> white, -<span class="number">1px</span> -<span class="number">1px</span> <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <p>將產生這樣的效果：<br><img src="/images/js30-16.png" alt="文字效果">  </p><hr><h1 id="取得滑鼠座標"><a href="#取得滑鼠座標" class="headerlink" title="取得滑鼠座標"></a>取得滑鼠座標</h1><p>請留意 e.clientX 與 e.screenX 的不同，<br>前者是現今鼠標點 到 瀏覽器窗口邊緣 的距離，<br>後者是現今鼠標點 到 瑩幕邊緣 的距離。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Mouse Shadow<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: sans-serif;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-class">.hero</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: black;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">    <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.gray</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">800px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: gray;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#effect01</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: white; </span></span><br><span class="line"><span class="css">      <span class="attribute">text-shadow</span>: black <span class="number">0.1em</span> <span class="number">0.1em</span> <span class="number">0.2em</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#effect02</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: gray;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-shadow</span>: -<span class="number">1px</span> -<span class="number">1px</span> white, <span class="number">1px</span> <span class="number">1px</span> <span class="number">#333</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-id">#effect03</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: gray;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> white, -<span class="number">1px</span> -<span class="number">1px</span> <span class="number">#444</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hero&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">contenteditable</span>&gt;</span>🔥WOAH!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gray&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;effect01&quot;</span>&gt;</span>展現文字陰影<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;effect02&quot;</span>&gt;</span>文字外嵌效果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">&quot;effect03&quot;</span>&gt;</span>文字內嵌效果<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> shadowElement = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;h1&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, shadow);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">shadow</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> mouseX = e.clientX; <span class="comment">//取得當前滑鼠於頁面上的X座標</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> mouseY = e.clientY; <span class="comment">//取得當前滑鼠於頁面上的Y座標</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> centerX = <span class="built_in">window</span>.innerWidth / <span class="number">2</span>; <span class="comment">//取得當前頁面上的中心點X座標</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> centerY = <span class="built_in">window</span>.innerHeight / <span class="number">2</span>; <span class="comment">//取得當前頁面上的中心點Y座標</span></span></span><br><span class="line"><span class="javascript">        </span></span><br><span class="line"><span class="javascript">        <span class="comment">//計算分身可移動的適當距離</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> moveX = (mouseX - centerX) * <span class="number">.5</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> moveY = (mouseY - centerY) * <span class="number">.5</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//將 text-shadow 屬性值加給 &lt;h1&gt;</span></span></span><br><span class="line"><span class="javascript">        shadowElement.style.textShadow = <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">            <span class="subst">$&#123;moveX&#125;</span>px <span class="subst">$&#123;-moveY&#125;</span>px 0 rgba(255,0,255,0.7), </span></span></span><br><span class="line"><span class="string"><span class="javascript">            <span class="subst">$&#123;-moveX&#125;</span>px <span class="subst">$&#123;moveY&#125;</span>px 0 rgba(0,255,255,0.7),</span></span></span><br><span class="line"><span class="string"><span class="javascript">            <span class="subst">$&#123;-moveY&#125;</span>px <span class="subst">$&#123;-moveX&#125;</span>px 0 rgba(0,255,0,0.7),</span></span></span><br><span class="line"><span class="string"><span class="javascript">            <span class="subst">$&#123;moveY&#125;</span>px <span class="subst">$&#123;moveX&#125;</span>px 0 rgba(0,0,255,0.7)`</span>;</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十五課 (LocalStorage)</title>
      <link href="/2021/06/12/js30-15/"/>
      <url>/2021/06/12/js30-15/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習利用 JS 使用 LocalStorage </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>LocalStorage 是什麼?</li><li>如何利用 LocalStorage 來存取資料?     </li></ol><hr><h1 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h1><p>LocalStorage 能將資料暫存在當前頁面(頁籤)的空間Storage物件裡，<br>與 sessionStorage 不同的是後者在頁面或頁籤被關閉時資料就會被清空。<br>而 localStorage 裡的資料即便在頁面、頁籤、瀏覽器被關閉後，<br>仍然能夠保存!!除非是使用者以手動方式，或是在瀏覽器中設定，<br>亦或是使用程式指令等方式才會將其清除!!!</p><p>此物件常使用的方法(methods)：</p><ol><li>localStorage.setItem(‘key’, value);</li><li>localStorage.getItem(‘key’);</li><li>localStorage.removeItem(‘key’); //用以移除特定的key及其值(value)</li><li>localStorage.clear(); //清除全部在localStorage中的資料<div class="alert alert-danger" style="font-size:14px">【注意】 <br>儲存在 localStorage 的資料都是字符串格式；<br>所以為了在日後將儲存在 localStorage 中的資料取出利用，<br>存入時應先使用 JSON.stringify( ) 指令，<br>將 陣列 資料字串化，而日後取出時再以 JSON.parse( ) 還原回陣列。</div>  </li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><ol><li>在 &lt;input&gt; 中加入關鍵字 required 可避免存入空字串，如程式碼第 23 行。</li><li>form 表單預設會觸發 submit 事件，如第 24 行。</li><li>因為 localStorage 資料不會随著頁面或瀏覽器關閉而清空，所以頁面須要先初始化，以顯示舊有的資料。如第 38 行。</li><li>攔截 form 表單的 submit 事件，使用 e.preventDefault( )，如第 41 行。</li><li>form 表單有 reset( ) 可用於清空表單內容，如第 55 行。</li><li>為了抓取 &lt;li&gt; 的點擊事件，我們可在其父層 &lt;ul&gt; 綁定監聽，而在生成 &lt;li&gt; 項目的時侯，加入 dataset 屬性與值!! 如程式碼第 63 行所為，如入 data-index 屬性。而在第 73 行以 dataset.index 抓出即可!!</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>LocalStorage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      Fish SVG Cred:</span></span><br><span class="line"><span class="comment">      https://thenounproject.com/search/?q=fish&amp;i=589236</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span> <span class="attr">xmlns:xlink</span>=<span class="string">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="attr">version</span>=<span class="string">&quot;1.1&quot;</span> <span class="attr">x</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">y</span>=<span class="string">&quot;0px&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 512 512&quot;</span> <span class="attr">enable-background</span>=<span class="string">&quot;new 0 0 512 512&quot;</span> <span class="attr">xml:space</span>=<span class="string">&quot;preserve&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M495.9,425.3H16.1c-5.2,0-10.1,2.9-12.5,7.6c-2.4,4.7-2.1,10.3,0.9,14.6l39,56.4c2.6,3.8,7,6.1,11.6,6.1h401.7   c4.6,0,9-2.3,11.6-6.1l39-56.4c3-4.3,3.3-9.9,0.9-14.6C506,428.2,501.1,425.3,495.9,425.3z M449.4,481.8H62.6L43,453.6H469   L449.4,481.8z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M158.3,122c7.8,0,14.1-6.3,14.1-14.1V43.4c0-7.8-6.3-14.1-14.1-14.1c-7.8,0-14.1,6.3-14.1,14.1v64.5   C144.2,115.7,150.5,122,158.3,122z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M245.1,94.7c7.8,0,14.1-6.3,14.1-14.1V16.1c0-7.8-6.3-14.1-14.1-14.1C237.3,2,231,8.3,231,16.1v64.5   C231,88.4,237.3,94.7,245.1,94.7z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M331.9,122c7.8,0,14.1-6.3,14.1-14.1V43.4c0-7.8-6.3-14.1-14.1-14.1s-14.1,6.3-14.1,14.1v64.5   C317.8,115.7,324.1,122,331.9,122z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M9.6,385.2c5.3,2.8,11.8,1.9,16.2-2.2l50.6-47.7c56.7,46.5,126.6,71.9,198.3,71.9c0,0,0,0,0,0   c87.5,0,169.7-36.6,231.4-103.2c5-5.4,5-13.8,0-19.2c-61.8-66.5-144-103.2-231.4-103.2c-72,0-142.2,25.6-199,72.5l-50-47.1   c-4.4-4.1-10.9-5-16.2-2.2c-5.3,2.8-8.3,8.7-7.4,14.6l11.6,75L2.2,370.6C1.3,376.5,4.2,382.4,9.6,385.2z M380.9,230.8   c34.9,14.3,67.2,35.7,95.3,63.6c-10.1,10-20.8,19.2-31.9,27.5c-22.4-3.3-29.6-8.8-30.7-9.7c-4-5.7-11.8-7.7-18.1-4.4   c-6.9,3.6-9.5,12.2-5.9,19.1c1.9,3.5,7.3,10.3,22.4,16c-10.1,5.7-20.5,10.7-31.1,15.1C352.4,320.2,352.4,268.6,380.9,230.8z    M36.3,255.6l29.4,27.7c5.3,5,13.6,5.1,19.1,0.3c53.2-47.6,120.7-73.7,190-73.7c26.9,0,53.2,3.9,78.5,11.3   c-29.3,44.6-29.3,102,0,146.6c-25.3,7.4-51.6,11.3-78.5,11.3c-69,0-136.3-26-189.4-73.2c-2.7-2.4-13.4-6.3-19.1,0.3l-30.1,28.3   l5.7-40C42.2,293,36.3,255.6,36.3,255.6z&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">&quot;398.8&quot;</span> <span class="attr">cy</span>=<span class="string">&quot;273.8&quot;</span> <span class="attr">r</span>=<span class="string">&quot;14.1&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>LOCAL TAPAS<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;plates&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Loading Tapas...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;add-items&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;item&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;Item Name&quot;</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;+ Add Item&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> addItems = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.add-items&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  addItems.addEventListener(<span class="string">&#x27;submit&#x27;</span>, addItem);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> itemsList = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.plates&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  itemsList.addEventListener(<span class="string">&#x27;click&#x27;</span>, toggleDone);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="comment">//1. 用JOSN.parse轉為陣列以利於後序操作</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">//2. 如果原先沒有資料時，就生成空陣列</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> items = <span class="built_in">JSON</span>.parse(<span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;items&#x27;</span>)) || [];</span></span><br><span class="line"><span class="javascript">  populateList(items, itemsList); <span class="comment">//頁面的初始化</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">addItem</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    e.preventDefault();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> text = (<span class="built_in">this</span>.querySelector(<span class="string">&#x27;[name=item]&#x27;</span>)).value;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> item = &#123;</span></span><br><span class="line"><span class="javascript">      text,</span></span><br><span class="line"><span class="javascript">      <span class="attr">done</span>: <span class="literal">false</span></span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    items.push(item);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//以 key:value 的形式存入localStorage</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//注意：value須為字串形式!!!</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;items&#x27;</span>, <span class="built_in">JSON</span>.stringify(items));</span></span><br><span class="line"><span class="javascript">    <span class="comment">//呼叫populateList函數，製作&lt;li&gt;項目以顯示到頁面上</span></span></span><br><span class="line"><span class="javascript">    populateList(items, itemsList);</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="built_in">this</span>.reset(); <span class="comment">//重置並清空被觸發表單(form)</span></span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  </span></span><br><span class="line"><span class="javascript">  <span class="comment">//形成&lt;li&gt;項目</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">populateList</span>(<span class="params">plates = [], platesList</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    platesList.innerHTML = plates.map(<span class="function">(<span class="params">plate, i</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;li&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;input type=&quot;checkbox&quot; data-index=<span class="subst">$&#123;i&#125;</span> id=&quot;item<span class="subst">$&#123;i&#125;</span>&quot; <span class="subst">$&#123;plate.done ? <span class="string">&#x27;checked&#x27;</span> : <span class="string">&#x27;&#x27;</span>&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">          &lt;label for=&quot;item<span class="subst">$&#123;i&#125;</span>&quot;&gt;<span class="subst">$&#123;plate.text&#125;</span>&lt;/label&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;/li&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">      `</span>;</span></span><br><span class="line"><span class="javascript">    &#125;).join(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript">  </span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">toggleDone</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(e); <span class="comment">//有&lt;input&gt;和&lt;label&gt;兩種會被綁定</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (!e.target.matches(<span class="string">&#x27;input&#x27;</span>)) <span class="keyword">return</span>; <span class="comment">//選擇&lt;input&gt;才作</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> index = e.target.dataset.index; <span class="comment">//綁在&lt;ul&gt;卻抓&lt;li&gt;須靠此index!!!</span></span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    items[index].done = !items[index].done;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;items&#x27;</span>, <span class="built_in">JSON</span>.stringify(items));</span></span><br><span class="line"><span class="javascript">    populateList(items, itemsList);</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十四課 (JS Reference VS Copy)</title>
      <link href="/2021/06/11/js30-14/"/>
      <url>/2021/06/11/js30-14/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中 call by Value/Reference </div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>簡單 vs 複雜 資料型別</li><li>call by Value vs Reference     </li></ol><hr><h1 id="簡單資料型別"><a href="#簡單資料型別" class="headerlink" title="簡單資料型別"></a>簡單資料型別</h1><p>在 JS 中，數字、字串、布林等資料類型，<br>屬於「簡單資料型別」，<br>且當把此類型的資料 assign 給新的變數時，<br>在記憶體中是指向不同的位址，即「複製出一個新的資料」。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// start with strings, numbers and booleans //簡單資料型別都是 call by Value，會有不同的記憶體位置</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> age2 = age;</span><br><span class="line"><span class="built_in">console</span>.log(age, age2); <span class="comment">//100 100</span></span><br><span class="line">age = <span class="number">200</span>;</span><br><span class="line"><span class="built_in">console</span>.log(age, age2); <span class="comment">//200 100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;Wes&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> name2 = name;</span><br><span class="line"><span class="built_in">console</span>.log(name, name2); <span class="comment">//Wes Wes</span></span><br><span class="line">name = <span class="string">&#x27;wesley&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name, name2); <span class="comment">//wesley Wes</span></span><br></pre></td></tr></table></figure>  <hr><h1 id="複雜資料型別"><a href="#複雜資料型別" class="headerlink" title="複雜資料型別"></a>複雜資料型別</h1><p>而 陣列、物件、函數 在 JS 中則屬「複雜資料型別」，<br>當把此種型別的資料 assign 給新變數時，<br>它是 call by Reference，亦即其實並未複製一份新的資料，<br>而只是將新變數指向與舊變數相同的記憶體位址，<br>他們使用同一份資料!!</p><p>所以對於 陣列 而言，欲真的複製一份新的資料，<br>可使用 array.slice( )、[ ].concat(oldArray)、Array.form(oldArray) 或 […oldArray] 等方式!!!</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Let&#x27;s say we have an array</span></span><br><span class="line"><span class="keyword">const</span> players = [<span class="string">&#x27;Wes&#x27;</span>, <span class="string">&#x27;Sarah&#x27;</span>, <span class="string">&#x27;Ryan&#x27;</span>, <span class="string">&#x27;Poppy&#x27;</span>]; <span class="comment">//陣列、物件、函數 在JS中皆屬於 複雜資料型別</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// and we want to make a copy of it.</span></span><br><span class="line"><span class="keyword">let</span> players2 = players; <span class="comment">//其實並非 &quot;copy&quot;，因為它是 call by Reference !!! 所以指向同一個記憶體位置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// You might think we can just do something like this:</span></span><br><span class="line">players2[<span class="number">3</span>] = <span class="string">&#x27;Lux&#x27;</span>; <span class="comment">//誤以為只改 players2 ...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// however what happens when we update that array?</span></span><br><span class="line"><span class="built_in">console</span>.log(players, players2); <span class="comment">//其實皆為 [&#x27;Was&#x27;,&#x27;Sarah&#x27;,&#x27;Ryan&#x27;,&#x27;Lux&#x27;]，因為只有一份資料!!!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// now here is the problem!</span></span><br><span class="line"><span class="comment">// oh no - we have edited the original array too!</span></span><br><span class="line"><span class="comment">// Why? It&#x27;s because that is an array reference, not an array copy. They both point to the same array!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// So, how do we fix this? We take a copy instead!</span></span><br><span class="line"><span class="comment">// one way</span></span><br><span class="line"><span class="keyword">let</span> players3 = players.slice(); <span class="comment">//用 slice 複製</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// or create a new array and concat the old one in</span></span><br><span class="line"><span class="keyword">let</span> players4 = [].concat(players); <span class="comment">//或用 concat 複製</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// or use the new ES6 Spread</span></span><br><span class="line"><span class="keyword">let</span> players5 = [...players]; <span class="comment">//或用 展開運算符 複製</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// or even use Array.from</span></span><br><span class="line"><span class="keyword">let</span> players6 = <span class="built_in">Array</span>.from(players); <span class="comment">//甚至用 Array.from 複製</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// now when we update it, the original one isn&#x27;t changed.</span></span><br></pre></td></tr></table></figure> <p>而對於 物件 來說，<br>想要達到 複製 的目的，可使用 Object.assign( ) 或 {…oldObject},<br>但值得注意的是 這兩種方法是所謂的「淺複製」，<br>即物件深度只有一層時是行得通的。<br>而若物件深度超過一層時，就必須使用「深複製」方式，<br>如 JSON.parse(JSON.stringify(oldObject)) 才行。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// The same thing goes for objects, let&#x27;s say we have a person object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// with Objects</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Wes Bos&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">80</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// and think we make a copy: </span></span><br><span class="line"><span class="keyword">let</span> person2 = person; <span class="comment">//非複製，是 call by Reference</span></span><br><span class="line">person2[<span class="string">&#x27;age&#x27;</span>]= <span class="number">100</span>;</span><br><span class="line"><span class="built_in">console</span>.table(person);</span><br><span class="line"><span class="built_in">console</span>.table(person2);</span><br><span class="line"></span><br><span class="line"><span class="comment">// how do we take a copy instead? </span></span><br><span class="line"><span class="keyword">let</span> person3 = <span class="built_in">Object</span>.assign(&#123;&#125;, person); <span class="comment">//用 assign 複製</span></span><br><span class="line">person3[<span class="string">&#x27;age&#x27;</span>]= <span class="number">60</span>;</span><br><span class="line"><span class="built_in">console</span>.table(person);</span><br><span class="line"><span class="built_in">console</span>.table(person3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// We will hopefully soon see the object ...spread</span></span><br><span class="line"><span class="keyword">let</span> person4 = &#123;...person&#125;; <span class="comment">//或用 展開運算符 複製</span></span><br><span class="line"><span class="built_in">console</span>.table(person4);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Things to note - this is only 1 level deep - both for Arrays and Objects. lodash has a cloneDeep method, but you should think twice before using it.</span></span><br><span class="line"><span class="keyword">let</span> wes = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Wes&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">social</span>: &#123;</span><br><span class="line">    <span class="attr">twitter</span>: <span class="string">&#x27;@wesbos&#x27;</span>,</span><br><span class="line">    <span class="attr">facebook</span>: <span class="string">&#x27;wesbos.developer&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.clear();</span><br><span class="line"><span class="built_in">console</span>.table(wes);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> wes2  = <span class="built_in">Object</span>.assign(&#123;&#125;, wes); <span class="comment">//淺複製無法達到我們要的目標…</span></span><br><span class="line"><span class="keyword">let</span> wes3 = &#123;...wes&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> wes4 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(wes)); <span class="comment">//深複製才 okay !!!</span></span><br><span class="line">wes4[<span class="string">&#x27;social&#x27;</span>][<span class="string">&#x27;facebook&#x27;</span>] = <span class="string">&#x27;someone.developer&#x27;</span>;</span><br><span class="line"><span class="built_in">console</span>.table(wes);</span><br><span class="line"><span class="built_in">console</span>.table(wes4);</span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十三課 (Slide in on Scroll)</title>
      <link href="/2021/06/10/js30-13/"/>
      <url>/2021/06/10/js30-13/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 抓取視窗捲動位置</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>了解 wndow.scrollY、window.innerHeight…    </p><hr><h1 id="基本說明"><a href="#基本說明" class="headerlink" title="基本說明"></a>基本說明</h1><p><img src="/images/js30-13.png" alt="說明"><br>如上圖所示，<br>window.scrollY 指得是從 文件頂端 到 現在視窗上緣 的距離，<br>window.innerHeight 是 現在視窗的垂直距離；<br>而 image.offsetTop 則是 文件頂端 到 image上緣 的距離，<br>image.height 是 圖片的高度。因此，若要指定下滑到圖片一半時<br>讓圖片出現的話，則意謂著：<br>當 <strong>視窗下緣的位置 = 圖片一半高度所在的位置</strong> 時，觸發圖片出現效果。<br>上式即</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.scrollY + <span class="built_in">window</span>.innerHeight = image.offsetTop + image.height / <span class="number">2</span>;</span><br></pre></td></tr></table></figure>  <p>另外，為了更好的使用者體驗，我們只在使用者第一次下滑時顯示效果；<br>亦即不具備圖片移出與再移入的特效!  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Slide in on Scroll<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">    <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">font-family</span>: <span class="string">&#x27;helvetica neue&#x27;</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">font-weight</span>: <span class="number">200</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">  <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">  *, *:before, *:after &#123;</span></span><br><span class="line"><span class="css">    box-sizing: inherit;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.site-wrap</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">max-width</span>: <span class="number">700px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line"><span class="css">    <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">    <span class="attribute">padding</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">text-align</span>: justify;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.align-left</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">float</span>: left;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.align-right</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">float</span>: right;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin-left</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.slide-in</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">transition</span>: all .<span class="number">5s</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.align-left</span><span class="selector-class">.slide-in</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">30%</span>) <span class="built_in">scale</span>(<span class="number">0.95</span>);</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css">  </span></span><br><span class="line"><span class="css">  <span class="selector-class">.align-right</span><span class="selector-class">.slide-in</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">30%</span>) <span class="built_in">scale</span>(<span class="number">0.95</span>);</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-class">.slide-in</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0%</span>) <span class="built_in">scale</span>(<span class="number">1</span>);</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;site-wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Slide in on Scroll<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Adipisicing elit. Tempore tempora rerum..<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://unsplash.it/400/400&quot;</span> <span class="attr">class</span>=<span class="string">&quot;align-left slide-in&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates, deserunt facilis et iste corrupti omnis tenetur est. Iste ut est dicta dolor itaque adipisci, dolorum minima, veritatis earum provident error molestias. Ratione magni illo sint vel velit ut excepturi consectetur suscipit, earum modi accusamus voluptatem nostrum, praesentium numquam, reiciendis voluptas sit id quisquam. Consequatur in quis reprehenderit modi perspiciatis necessitatibus saepe, quidem, suscipit iure natus dignissimos ipsam, eligendi deleniti accusantium, rerum quibusdam fugit perferendis et optio recusandae sed ratione. Culpa, dolorum reprehenderit harum ab voluptas fuga, nisi eligendi natus maiores illum quas quos et aperiam aut doloremque optio maxime fugiat doloribus. Eum dolorum expedita quam, nesciunt<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://unsplash.it/400/401&quot;</span> <span class="attr">class</span>=<span class="string">&quot;align-right slide-in&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> at provident praesentium atque quas rerum optio dignissimos repudiandae ullam illum quibusdam. Vel ad error quibusdam, illo ex totam placeat. Quos excepturi fuga, molestiae ea quisquam minus, ratione dicta consectetur officia omnis, doloribus voluptatibus? Veniam ipsum veritatis architecto, provident quas consequatur doloremque quam quidem earum expedita, ad delectus voluptatum, omnis praesentium nostrum qui aspernatur ea eaque adipisci et cumque ab? Ea voluptatum dolore itaque odio. Eius minima distinctio harum, officia ab nihil exercitationem. Tempora rem nemo nam temporibus molestias facilis minus ipsam quam doloribus consequatur debitis nesciunt tempore officiis aperiam quisquam, molestiae voluptates cum, fuga culpa. Distinctio accusamus quibusdam, tempore perspiciatis dolorum optio facere consequatur quidem ullam beatae architecto, ipsam sequi officiis dignissimos amet impedit natus necessitatibus tenetur repellendus dolor rem! Dicta dolorem, iure, facilis illo ex nihil ipsa amet officia, optio temporibus eum autem odit repellendus nisi. Possimus modi, corrupti error debitis doloribus dicta libero earum, sequi porro ut excepturi nostrum ea voluptatem nihil culpa? Ullam expedita eligendi obcaecati reiciendis velit provident omnis quas qui in corrupti est dolore facere ad hic, animi soluta assumenda consequuntur reprehenderit! Voluptate dolor nihil veniam laborum voluptas nisi pariatur sed optio accusantium quam consectetur, corrupti, sequi et consequuntur, excepturi doloremque. Tempore quis velit corporis neque fugit non sequi eaque rem hic. Facere, inventore, aspernatur. Accusantium modi atque, asperiores qui nobis soluta cumque suscipit excepturi possimus doloremque odit saepe perferendis temporibus molestiae nostrum voluptatum quis id sint quidem nesciunt culpa. Rerum labore dolor beatae blanditiis praesentium explicabo velit optio esse aperiam similique, voluptatem cum, maiores ipsa tempore. Reiciendis sed culpa atque inventore, nam ullam enim expedita consectetur id velit iusto alias vitae explicabo nemo neque odio reprehenderit soluta sint eaque. Aperiam, qui ut tenetur, voluptate doloremque officiis dicta quaerat voluptatem rerum natus magni. Eum amet autem dolor ullam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://unsplash.it/200/500&quot;</span> <span class="attr">class</span>=<span class="string">&quot;align-left slide-in&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet </span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://unsplash.it/200/200&quot;</span> <span class="attr">class</span>=<span class="string">&quot;align-right slide-in&quot;</span>&gt;</span> temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://unsplash.it/400/400&quot;</span> <span class="attr">class</span>=<span class="string">&quot;align-right slide-in&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait = <span class="number">20</span>, immediate = <span class="literal">true</span></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> timeout;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> context = <span class="built_in">this</span>, args = <span class="built_in">arguments</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          timeout = <span class="literal">null</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">if</span> (!immediate) func.apply(context, args);</span></span><br><span class="line"><span class="javascript">        &#125;;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> callNow = immediate &amp;&amp; !timeout;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearTimeout</span>(timeout);</span></span><br><span class="line"><span class="javascript">        timeout = <span class="built_in">setTimeout</span>(later, wait);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (callNow) func.apply(context, args);</span></span><br><span class="line"><span class="javascript">      &#125;;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> sliderImages = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.slide-in&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">checkSlide</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      sliderImages.forEach(<span class="function"><span class="params">sliderImage</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> slideInAt = sliderImage.offsetTop + sliderImage.height / <span class="number">2</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> isHalfShown = (<span class="built_in">window</span>.scrollY + <span class="built_in">window</span>.innerHeight) &gt; slideInAt; </span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (isHalfShown) sliderImage.classList.add(<span class="string">&#x27;active&#x27;</span>);</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, debounce(checkSlide));</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-12 Key in List</title>
      <link href="/2021/06/09/React-12/"/>
      <url>/2021/06/09/React-12/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 列表中 key 的作用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>key 的意義</li><li>為何不用 index ?  </li></ol><hr><h1 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h1><p>在 React 或 Vue 中使用列表 &lt;li&gt; 時會被要求使用 key ，<br>每個 key 都是唯一的，用以標識與管理不同的列表項目。<br>而在 React 的虛擬DOM裡，key 是 虛擬DOM對象 的標識,<br>在更新顯示時，key 扮演著極其重要的角色。</p><p>更詳細的說:<br>當狀態中的數據發生變化時，React 會根據「新數據」生成【新的虛擬DOM】，<br>接著 React 進行【新虚擬DOM】與【舊虚擬DOM】的 diff 比較，<br>其比較規則為：</p><ol><li>舊虚擬DOM 中找到了與 新虚擬DOM 相同的 key：<ol><li>若虚擬DOM中内容没變, 則直接使用之前的真實DOM</li><li>若虚擬DOM中内容變了, 則生成新的真實DOM，隨後替換掉頁面中之前的真實DOM</li></ol></li><li>舊虚擬DOM 中未找到與 新虚擬DOM 相同的 key：則生成新的虛擬DOM，也更新頁面中之前的真實DOM   </li></ol><hr><h1 id="為何不用-index"><a href="#為何不用-index" class="headerlink" title="為何不用 index"></a>為何不用 index</h1><p>那為何在遍歷列表時，key 最好不要用 index 呢?<br>因為可能會引發下列問題：</p><ol><li>若對數據進行「逆序添加」、「逆序删除」等破壞順序的操作時，會產生沒有必要的真實DOM更新；雖然顯示頁面的效果沒問題，但效率低。</li><li>如果結構中包含输入類的DOM (如 input框、radio button…)時，會產生<span style="color:red;">錯誤的DOM更新</span>，導致頁面出問題!!!</li></ol><p>而如果不存在對數據資料的逆序添加、逆序刪除等破壞順序操作，<br>僅用於渲染列表、用於展示，<br>此時使用 index 作為 key 是沒有問題的!!</p><p>在實際開發時，key 最好使用數據的唯一標識，<br>例如 id、手機號碼、身份證字號、學號等唯一值，<br>若真沒有，則也可考慮使用 <a href="https://github.com/ai/nanoid" title="NanoID">nanoid 套件</a>。  </p><hr><h1 id="範例程式"><a href="#範例程式" class="headerlink" title="範例程式"></a>範例程式</h1><p>這裡以一個 逆序添加結合輸入DOM 為範例：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>key的作用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">state = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">persons</span>:[</span></span><br><span class="line"><span class="javascript">&#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;小張&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;,</span></span><br><span class="line"><span class="javascript">&#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">&#x27;小李&#x27;</span>,<span class="attr">age</span>:<span class="number">19</span>&#125;,</span></span><br><span class="line"><span class="javascript">]</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">add = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;persons&#125; = <span class="built_in">this</span>.state;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> p = &#123;<span class="attr">id</span>:persons.length+<span class="number">1</span>,<span class="attr">name</span>:<span class="string">&#x27;小王&#x27;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;<span class="attr">persons</span>:[p,...persons]&#125;); <span class="comment">//逆序添加!!!</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> (</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>展示人員資料<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.add&#125;</span>&gt;</span>添加一個小王<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>使用index（索引值）作為key<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#123;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">this.state.persons.map((personObj,index)=&gt;&#123;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">return <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;index&#125;</span>&gt;</span>&#123;personObj.name&#125;--&#123;personObj.age&#125;<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#125;)</span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#125;</span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>使用id（數據的唯一標識）作為key<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#123;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">this.state.persons.map((personObj)=&gt;&#123;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">return <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;personObj.id&#125;</span>&gt;</span>&#123;personObj.name&#125;--&#123;personObj.age&#125;<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#125;)</span></span></span><br><span class="line"><span class="xml"><span class="javascript">&#125;</span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <p><img src="/images/react-12.png" alt="逆序添加+輸入DOM 造成頁面出問題">   </p><hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> key </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十二課 (Key Detection)</title>
      <link href="/2021/06/09/js30-12/"/>
      <url>/2021/06/09/js30-12/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 字串偵測與處理</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>了解並處理使用者輸入之字符串   </p><hr><h1 id="過程說明"><a href="#過程說明" class="headerlink" title="過程說明"></a>過程說明</h1><p>以前在玩遊樂器時常有特定的組合鍵可觸發某種特效，<br>類似在埋入彩蛋之類的效果。<br>首先選定一組輸入，如 wesbos上下左右 當作 secretCode，<br>並將它以 keyCode 的方式存入陣列。</p><p>對 window 監聽 keyup 事件，並將使用者輸入的 keyCodes 存於另一陣列，<br>保持此陣列的長度最大值與彩蛋陣列相同，可使用 shift( ) 或 pop( )，<br>兩者差別在於：前者彈出第一元素，後者彈出最後一個元素，<br>之後比較兩陣列的字串，若相同就提供特效。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Key Detection<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.cornify.com/js/cornify.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> pressedKeycodes = [];</span></span><br><span class="line"><span class="javascript">  <span class="comment">// const secretCode = &#x27;wesbos上下左右&#x27;;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> secretKeycodes = [<span class="number">87</span>, <span class="number">69</span>, <span class="number">83</span>, <span class="number">66</span>, <span class="number">79</span>, <span class="number">83</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">39</span>];</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> secretString = secretKeycodes.join(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;keyup&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// console.log(e.key, e.keyCode);</span></span></span><br><span class="line"><span class="javascript">    pressedKeycodes.push(e.keyCode);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (pressedKeycodes.length &gt; secretKeycodes.length) &#123;</span></span><br><span class="line"><span class="javascript">      pressedKeycodes.shift();</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (pressedKeycodes.join(<span class="string">&#x27;&#x27;</span>) == secretString) </span></span><br><span class="line"><span class="javascript">        cornify_add();</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-11 組件的生命週期</title>
      <link href="/2021/06/08/React-11/"/>
      <url>/2021/06/08/React-11/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 中組件的生命週期</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>生命週期</li><li>三個最常用的生命鈎子  </li></ol><hr><h1 id="生命週期圖"><a href="#生命週期圖" class="headerlink" title="生命週期圖"></a>生命週期圖</h1><p><img src="/images/react-lifecycle.png" alt="生命週期">  </p><h2 id="說明"><a href="#說明" class="headerlink" title="說明"></a>說明</h2><ol><li>初始化階段: 由 ReactDOM.render( ) 觸發 —進行初次渲染<ol><li>   constructor( )</li><li>   getDerivedStateFromProps </li><li>   <span style="color:red;">render( )</span></li><li>   <span style="color:red;">componentDidMount( )</span> ===&gt; 常用於做一些初始化的事，例如：開啟定時器、網路發送請求、訂閱消息</li></ol></li><li>更新階段: 由組件内部 this.setSate( ) 或 父組件重新 render 觸發<ol><li>   getDerivedStateFromProps</li><li>   shouldComponentUpdate( )</li><li>   render( )</li><li>   getSnapshotBeforeUpdate</li><li>   componentDidUpdate( )</li></ol></li><li>缷載組件階段: 由 ReactDOM.unmountComponentAtNode( ) 觸發<ol><li>   <span style="color:red;">componentWillUnmount( )</span>  ===&gt; 常用於做一些收尾的事，例如：關閉定時器、取消訂閱消息  </li></ol></li></ol><hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> LifeCycle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> lifecycle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第十課 (Hold Shift to Check Multiple Checkboxes)</title>
      <link href="/2021/06/08/js30-10/"/>
      <url>/2021/06/08/js30-10/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 組合鍵 的使用方法</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>了解並處理 JS 中 event.xxxKey 事件   </p><hr><h1 id="過程說明"><a href="#過程說明" class="headerlink" title="過程說明"></a>過程說明</h1><h2 id="加入「按住-shift-多項目增選」的功能"><a href="#加入「按住-shift-多項目增選」的功能" class="headerlink" title="加入「按住 shift 多項目增選」的功能"></a>加入「按住 shift 多項目增選」的功能</h2><p>為了完成表定的工作，我們只需要加入以下程式碼：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> checkboxes = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;input[type=&quot;checkbox&quot;]&#x27;</span>);</span><br><span class="line">checkboxes.forEach(<span class="function"><span class="params">checkbox</span> =&gt;</span> checkbox.addEventListener(<span class="string">&#x27;click&#x27;</span>, handleCheck));</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> lastChecked;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleCheck</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> inBetween = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (e.shiftKey &amp;&amp; <span class="built_in">this</span>.checked) &#123;</span><br><span class="line">    checkboxes.forEach(<span class="function"><span class="params">checkbox</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (checkbox === <span class="built_in">this</span> || checkbox === lastChecked) inBetween = !inBetween;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (inBetween) checkbox.checked = <span class="literal">true</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">lastChecked = <span class="built_in">this</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <hr><h2 id="新增「按住-shift-多項目減選」的功能"><a href="#新增「按住-shift-多項目減選」的功能" class="headerlink" title="新增「按住 shift 多項目減選」的功能"></a>新增「按住 shift 多項目減選」的功能</h2><p>我們也可以嘗試添加 按住 shift 鍵來達成多項目減選 的功能，<br>亦即當使用者按住了 shift 並點選一個已經打勾了 (checked) 的項目時，<br>上一次點中的項目到此項目中的所有項目皆會被取消選取。<br>加入以下代碼：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (e.shiftKey &amp;&amp; !<span class="built_in">this</span>.checked) &#123;</span><br><span class="line">   checkboxes.forEach(<span class="function"><span class="params">checkbox</span> =&gt;</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (checkbox === <span class="built_in">this</span> || checkbox === lastChecked) inBetween = !inBetween;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (inBetween) checkbox.checked = <span class="literal">false</span>;</span><br><span class="line">   &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但我們發現它與前項代碼的重覆度極高，<br>因此可再進行整理，最後的程式碼如下。 </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hold Shift to Check Multiple Checkboxes<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: sans-serif;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.inbox</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">max-width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.item</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#F1F1F1</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.item</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-bottom</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#F9F9F9</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-decoration</span>: line-through;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>: background <span class="number">0.2s</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>:<span class="string">&#x27;helvetica neue&#x27;</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-weight</span>: <span class="number">200</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-left</span>: <span class="number">1px</span> solid <span class="number">#D1E2FF</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   The following is a common layout you would see in an email client.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   When a user clicks a checkbox, holds Shift, and then clicks another checkbox a few rows down, all the checkboxes inbetween those two checkboxes should be checked.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;inbox&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is an inbox layout.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check one item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hold down your Shift key<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check a lower item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Everything in between should also be set to checked<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Try to do it without any libraries<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Just regular JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Good Luck!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Don&#x27;t forget to tweet your result!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> checkboxes = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;input[type=&quot;checkbox&quot;]&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  checkboxes.forEach(<span class="function"><span class="params">checkbox</span> =&gt;</span> checkbox.addEventListener(<span class="string">&#x27;click&#x27;</span>, handleCheck));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> lastChecked;</span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">handleCheck</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> inBetween = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (e.shiftKey) &#123;</span></span><br><span class="line"><span class="javascript">      checkboxes.forEach(<span class="function"><span class="params">checkbox</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (checkbox === <span class="built_in">this</span> || checkbox === lastChecked) inBetween = !inBetween;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (inBetween) (<span class="built_in">this</span>.checked) ? checkbox.checked = <span class="literal">true</span> : checkbox.checked = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">      &#125;);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    lastChecked = <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-10 高階函數 與 函數柯里化</title>
      <link href="/2021/06/07/React-10/"/>
      <url>/2021/06/07/React-10/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 高階函數 與 函數的柯里化</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>高階函數</li><li>函數的柯里化  </li></ol><hr><h2 id="高階函數"><a href="#高階函數" class="headerlink" title="高階函數"></a>高階函數</h2><p>如果一個函數符合下列兩個規範中的任何一個，<br>那該函數就是一個高階函數：</p><ol><li>若接收的參數是一個函數</li><li>若返回的是一個函數<br>常見的高階函數比如有 setInterval( )、arr.map( )…等等。  </li></ol><h2 id="函數的柯里化"><a href="#函數的柯里化" class="headerlink" title="函數的柯里化"></a>函數的柯里化</h2><p>透過函數調用後繼續返回函數的方式，<br>實現多次接收參數之後，統一處理資料 的函數撰寫模式，<br>則稱此模式為函數的柯里化模式。例如：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function">(<span class="params">c</span>)=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> a+b+c</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <hr><h1 id="實例"><a href="#實例" class="headerlink" title="實例"></a>實例</h1><p>我們用先前表單提交的範例來看：<br>我們想要將具有高度重覆程式碼的 savdUsername 和 savePassword 合併在一起，<br>所以我們嘗試以一個 saveFormData 來取代它們：</p><ol><li>我們將 input 節點的 onChange 事件給定 saveFormData 函數，並且代入參數直接調用。</li><li><span style="color:red"><b>[重要]</b></span>：值得注意的是 <span style="color:red"><b>並不是不能讓函數直接執行；而是要讓 該函數在呼叫之後傳回的也是一個函數</b></span>，如此才能確保當 「事件發生時 React 幫我們調用的是一個函數」 !!! 所以我們的 saveFormData 就寫成<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">saveFormData = <span class="function">(<span class="params">dataType</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.setState(&#123;[dataType]:event.target.value&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 的形式，亦即 &lt;input&gt; 上面的 onChange 事件發生後，React 幫我們呼叫 this.saveFormData(‘xxxxxxxx’) 並傳入參數 dataType ， 之後得到一返回值交給 onChange ；但其實那不是值而是下面這一個函數，<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(event)=&gt;&#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;[dataType]:event.target.value&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 所以這函數才是 onChange 真正調用的函數，而它可以利用 this.setState 的方式來更改狀態，是因為我們的 saveFormData 函數是以 <strong>賦值語句加箭頭函數</strong> 的方式撰寫的，所以它的 this 指向沒有問題。</li><li>而仔細看，其實 saveFormData 本身就已經是 柯里化 的表示法了。</li></ol><h2 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>高階函數 與 函數柯里化<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript">state = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>, </span></span><br><span class="line"><span class="javascript"><span class="attr">password</span>:<span class="string">&#x27;&#x27;</span> </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">saveFormData = <span class="function">(<span class="params">dataType</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;[dataType]:event.target.value&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">handleSubmit = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">event.preventDefault(); <span class="comment">//阻止表單提交</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;username,password&#125; = <span class="built_in">this</span>.state;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">`用户名：<span class="subst">$&#123;username&#125;</span>, 密碼：<span class="subst">$&#123;password&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;this.saveFormData(</span>&#x27;<span class="attr">username</span>&#x27;)&#125; <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">密碼：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;this.saveFormData(</span>&#x27;<span class="attr">password</span>&#x27;)&#125; <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span>&gt;</span>登錄<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Login</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><h2 id="不要用柯里化的寫法"><a href="#不要用柯里化的寫法" class="headerlink" title="不要用柯里化的寫法"></a>不要用柯里化的寫法</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>不用函數柯里化的實現<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript">state = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>, </span></span><br><span class="line"><span class="javascript"><span class="attr">password</span>:<span class="string">&#x27;&#x27;</span> </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">saveFormData = <span class="function">(<span class="params">dataType,event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;[dataType]:event.target.value&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">handleSubmit = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">event.preventDefault();</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;username,password&#125; = <span class="built_in">this</span>.state;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">`用户名：<span class="subst">$&#123;username&#125;</span>, 密碼：<span class="subst">$&#123;password&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;event</span> =&gt;</span> this.saveFormData(&#x27;username&#x27;,event) &#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">密碼：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;event</span> =&gt;</span> this.saveFormData(&#x27;password&#x27;,event) &#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span>&gt;</span>登錄<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Login</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第九課 (Console Tricks!)</title>
      <link href="/2021/06/07/js30-09/"/>
      <url>/2021/06/07/js30-09/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 console 的各種使用方法</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>明白 console 裡的各式指令 </p><h2 id="Regular"><a href="#Regular" class="headerlink" title="Regular"></a>Regular</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;hello&#x27;</span>);</span><br></pre></td></tr></table></figure>  <h2 id="Interpolated"><a href="#Interpolated" class="headerlink" title="Interpolated"></a>Interpolated</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;I live in %s.&#x27;</span>, <span class="string">&#x27;Taipei&#x27;</span>); <span class="comment">// %s 字串</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;I have %d books.&#x27;</span>, <span class="number">7</span>); <span class="comment">// %d 整數</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;I have %f dollors.&#x27;</span> , <span class="number">7.8</span>); <span class="comment">// %f 浮點數</span></span><br></pre></td></tr></table></figure><h2 id="Styled"><a href="#Styled" class="headerlink" title="Styled"></a>Styled</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;%c Hello World&#x27;</span>, <span class="string">&#x27;font-size:50px; color:white; background:green; text-shadow: 10px 10px 0 grey&#x27;</span>);</span><br></pre></td></tr></table></figure> <h2 id="Warning"><a href="#Warning" class="headerlink" title="Warning"></a>Warning</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.warn(<span class="string">&#x27;Warning!! Dont cross the yellow line.&#x27;</span>);</span><br></pre></td></tr></table></figure> <h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.error(<span class="string">&#x27;BOMB!!! You got an error.&#x27;</span>);</span><br></pre></td></tr></table></figure> <h2 id="Info"><a href="#Info" class="headerlink" title="Info"></a>Info</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.info(<span class="string">&#x27;If it rains, you are better to take an umbrella.&#x27;</span>);</span><br></pre></td></tr></table></figure> <h2 id="Testing"><a href="#Testing" class="headerlink" title="Testing"></a>Testing</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;p&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.assert(p.classList.contains(<span class="string">&#x27;ouch&#x27;</span>), <span class="string">&#x27;That is wrong!&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.assert(p.classList.contains(<span class="string">&#x27;demo&#x27;</span>), <span class="string">&#x27;That is wrong!&#x27;</span>);</span><br></pre></td></tr></table></figure>   <p>因為 &lt;p&gt; 裡有 demo 這個 class 屬性，<br>所以最後一行的 That is wrong! 就不會出現。  </p><h2 id="Clearing"><a href="#Clearing" class="headerlink" title="Clearing"></a>Clearing</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.clear();</span><br></pre></td></tr></table></figure> <h2 id="Viewing-DOM-Elements"><a href="#Viewing-DOM-Elements" class="headerlink" title="Viewing DOM Elements"></a>Viewing DOM Elements</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(p);</span><br><span class="line"><span class="built_in">console</span>.dir(p); <span class="comment">// 會自動展開其架構作瀏覽</span></span><br></pre></td></tr></table></figure> <h2 id="Grouping-together"><a href="#Grouping-together" class="headerlink" title="Grouping together"></a>Grouping together</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">dogs.forEach(<span class="function"><span class="params">dog</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.groupCollapsed(dog.name);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`This is <span class="subst">$&#123;dog.name&#125;</span>.`</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;dog.name&#125;</span> is <span class="subst">$&#123;dog.age&#125;</span> years old.`</span>);</span><br><span class="line">    <span class="built_in">console</span>.groupEnd(dog.name);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure> <p>會以 dog.name 作名稱收合其中所有輸出。</p><h2 id="Counting"><a href="#Counting" class="headerlink" title="Counting"></a>Counting</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;dog&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;cat&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;dog&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;dog&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;cat&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;duck&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;duck&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;duck&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">&#x27;mice&#x27;</span>);</span><br></pre></td></tr></table></figure> <h2 id="Timing"><a href="#Timing" class="headerlink" title="Timing"></a>Timing</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;for loop time&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b, c</span>) </span>&#123; <span class="keyword">return</span> a+b+c; &#125;  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">    sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;for loop time&#x27;</span>) <span class="comment">// 5ms</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;柯里化 loop time&#x27;</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">b</span>)=&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">c</span>)=&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a+b+c;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;<span class="number">10000</span>; i++) &#123;</span><br><span class="line">    sum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;柯里化 loop time&#x27;</span>) <span class="comment">// 12ms, 效率奇差…!!!</span></span><br></pre></td></tr></table></figure> <p>看來函數柯里化後的執行效率變差蠻多的…XD</p><h2 id="Table"><a href="#Table" class="headerlink" title="Table"></a>Table</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.table(dogs);</span><br></pre></td></tr></table></figure>   <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> console </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-09 (非)受控組件</title>
      <link href="/2021/06/06/React-09/"/>
      <url>/2021/06/06/React-09/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 中的 非受控 與 受控組件</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>非受控組件</li><li>受控組件  </li></ol><hr><h1 id="非受控組件"><a href="#非受控組件" class="headerlink" title="非受控組件"></a>非受控組件</h1><p>非受控組件 指得是那些「即調即用」資料的組件，<br>簡單一點說就是「沒將資料存入狀態中」的組件。<br>其可能具備 <strong>有幾個輸入類的標籤，就必須有幾個 ref</strong> 的缺點 !!<br>因此<span style="color:red;">不推薦</span>使用非受控組件。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>1_非受控組件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript">handleSubmit = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">event.preventDefault(); <span class="comment">//阻止表單提交</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;username,password&#125; = <span class="built_in">this</span>;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">`用户名：<span class="subst">$&#123;username.value&#125;</span>, 密碼：<span class="subst">$&#123;password.value&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;c</span> =&gt;</span> this.username = c&#125; type=&quot;text&quot; name=&quot;username&quot;/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="javascript">密碼：<span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;c</span> =&gt;</span> this.password = c&#125; type=&quot;password&quot; name=&quot;password&quot;/&gt;</span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span>&gt;</span>登錄<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Login</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><h1 id="受控式組件"><a href="#受控式組件" class="headerlink" title="受控式組件"></a>受控式組件</h1><p>受控式組件 就是將資料保存至狀態之中的那些組件，<br>它可經由 事件驅動回調函數 的方式，而不必加入 refs，<br>因此較為推薦使用。  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>2_受控組件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Login</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">state = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">username</span>:<span class="string">&#x27;&#x27;</span>, <span class="comment">//用户名</span></span></span><br><span class="line"><span class="javascript"><span class="attr">password</span>:<span class="string">&#x27;&#x27;</span> <span class="comment">//密碼</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//保存用户名到狀態中</span></span></span><br><span class="line"><span class="javascript">saveUsername = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;<span class="attr">username</span>:event.target.value&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//保存密碼到狀態中</span></span></span><br><span class="line"><span class="javascript">savePassword = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;<span class="attr">password</span>:event.target.value&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">handleSubmit = <span class="function">(<span class="params">event</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">event.preventDefault(); <span class="comment">//阻止表单提交</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;username,password&#125; = <span class="built_in">this</span>.state;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">`用户名：<span class="subst">$&#123;username&#125;</span>, 密碼：<span class="subst">$&#123;password&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">onSubmit</span>=<span class="string">&#123;this.handleSubmit&#125;</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;this.saveUsername&#125;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">密碼：<span class="tag">&lt;<span class="name">input</span> <span class="attr">onChange</span>=<span class="string">&#123;this.savePassword&#125;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span>&gt;</span>登錄<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Login</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> (非)受控組件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-08 Refs</title>
      <link href="/2021/06/06/React-08/"/>
      <url>/2021/06/06/React-08/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 組件實例三大屬性之三：Refs</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>字符串形式</li><li>回調函數形式  </li><li>API形式</li></ol><hr><h1 id="字符串形式"><a href="#字符串形式" class="headerlink" title="字符串形式"></a>字符串形式</h1><p>字符串形式是歷史悠久又最方便程式撰寫的 ref 形式，<br>只要在標籤中加入 ref=” “ 字符串，<br>React 就會自動幫我們收集到 this.refs 裡供我們調用，<br>可說是最簡單好用的方式；但<span style="color:red;">因為「效率」的問題，React 將會移除此形式!!</span>  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>1_字符串形式的ref<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">//展示左側輸入框的數據</span></span></span><br><span class="line"><span class="javascript">showData1 = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;input1&#125; = <span class="built_in">this</span>.refs;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">`<span class="subst">$&#123;input1.value&#125;</span>, and prop a = <span class="subst">$&#123;<span class="built_in">this</span>.props.a&#125;</span>`</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//展示右側輸入框的數據</span></span></span><br><span class="line"><span class="javascript">showData2 = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;input2&#125; = <span class="built_in">this</span>.refs;</span></span><br><span class="line"><span class="javascript">alert(input2.value);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&quot;input1&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;點擊按鈕顯示數據&quot;</span>/&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.showData1&#125;</span>&gt;</span>點我顯示左側數據<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&quot;input2&quot;</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.showData2&#125;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;失去焦點顯示數據&quot;</span>/&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Demo</span> <span class="attr">a</span>=<span class="string">&quot;1&quot;</span> <span class="attr">b</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><h1 id="回調函數形式"><a href="#回調函數形式" class="headerlink" title="回調函數形式"></a>回調函數形式</h1><p>此形式即是以 ref={currentNode =&gt; this.DOM = currentNode} 的形式來宣告，<br>其含意為將此 ref 所處的節點 掛載 至實例對象上，並取名為 DOM。<br>所以在取用時，直接以 this.DOM.value 在自身上取即可。<br>此形式有一缺點：就是在更新(非初始化)時，React 會呼叫兩次，<br>包含第一次的以 null 傳入, 以保證資料的正確性；<br>但 React 官方也指出，在大部分情況下這影響幾乎可以被忽略。  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>2_回調函數形式的ref<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript">showData = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;input1&#125; = <span class="built_in">this</span>; <span class="comment">//不再是this.refs，因為綁在實例自身上了</span></span></span><br><span class="line"><span class="javascript">alert(input1.value);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">showData2 = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;input2&#125; = <span class="built_in">this</span>; <span class="comment">//不再是this.refs，因為綁在實例自身上了</span></span></span><br><span class="line"><span class="javascript">alert(input2.value);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;c</span> =&gt;</span> this.input1 = c &#125; type=&quot;text&quot; placeholder=&quot;點擊按鈕顯示數據&quot;/&gt;<span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.showData&#125;</span>&gt;</span>點我顯示左側數據<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.showData2&#125;</span> <span class="attr">ref</span>=<span class="string">&#123;c</span> =&gt;</span> this.input2 = c &#125; type=&quot;text&quot; placeholder=&quot;失去焦點顯示數據&quot;/&gt;<span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Demo</span> <span class="attr">a</span>=<span class="string">&quot;1&quot;</span> <span class="attr">b</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><h1 id="API-形式"><a href="#API-形式" class="headerlink" title="API 形式"></a>API 形式</h1><p>這是 React 最推薦的形式；<br>我們用 createRef( ) 來創建一個「專人專用」的 ref 容器，<br>裡面就裝入寫著該 ref 的節點，如同第 20、32 行程式碼所示。<br>要取用資料時，注意必須以 this.refName.<span style="color:red">current</span>.value 的方式來取值，<br>千萬別忘了 current !!!   </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>3_createRef API形式的ref<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="javascript">React.createRef調用後會返回一個容器，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">該容器儲存被ref所標識的節點,且容器是“專人專用”的!!</span></span></span><br><span class="line"><span class="comment"><span class="javascript"> */</span></span></span><br><span class="line"><span class="javascript">myRef1 = React.createRef();</span></span><br><span class="line"><span class="javascript">myRef2 = React.createRef();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">showData = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="built_in">this</span>.myRef1.current.value); <span class="comment">//小心：別寫太快變成this.myRef1.value !!! </span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">showData2 = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="built_in">this</span>.myRef2.current.value); <span class="comment">//記得要有 current !!!</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span>(</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef1&#125;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;點擊按鈕顯示數據&quot;</span>/&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.showData&#125;</span>&gt;</span>點我顯示左側數據<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">input</span> <span class="attr">onBlur</span>=<span class="string">&#123;this.showData2&#125;</span> <span class="attr">ref</span>=<span class="string">&#123;this.myRef2&#125;</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;失去焦點顯示數據&quot;</span>/&gt;</span><span class="symbol">&amp;nbsp;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Demo</span> <span class="attr">a</span>=<span class="string">&quot;1&quot;</span> <span class="attr">b</span>=<span class="string">&quot;2&quot;</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><div class="alert alert-success" style="font-size: 16px">React 中的 Refs 就很像是標籤中的 id 屬性，<br>只是我們不再需要寫一堆的 document.getElementById。<br><br>但是， React 似乎並沒有幫我們寫好「雙向綁定」的功能，<br>有時還是得我們自己用 onChange 或相關功能來輔助… Orz<br>這麼一說，感覺 Vue 還真是香~~</div>   <hr><div class="alert alert-danger" style="font-size: 16px">React 中使用 refs 協助事件處理是很常見的方式，<br>但請注意以下事項：<br>1. 通過 onXxxx 屬性指定事件處理函數時，<br>&nbsp;&nbsp;&nbsp;&nbsp;a. 留意字母的大小寫<br>&nbsp;&nbsp;&nbsp;&nbsp;b. 為了<b>更好的相容性</b>，React 重新封裝多種自定義事件處理函數<br>&nbsp;&nbsp;&nbsp;&nbsp;c. 為了<b>更好的效率</b>，React 使用「委託給組件最外層的元素」的方法來處理事件<br>2. 為了達到 React 官方建議<b>「勿過度使用 ref」</b>的目標，<br>&nbsp;&nbsp;&nbsp;&nbsp;儘可能通過 event.target 來獲取發生事件的 DOM，<br>&nbsp;&nbsp;&nbsp;&nbsp;例如<b><u>當事件發生與提取資料的對象是同一個 DOM 時</u></b>，就不需要使用 ref 。</div>   <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> Refs </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> refs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第八課 (HTML5 Canvas)</title>
      <link href="/2021/06/06/js30-08/"/>
      <url>/2021/06/06/js30-08/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 HTML5 畫布的使用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>明白 2D 繪圖中各項屬性與指令的運用  </p><hr><h1 id="步驟分析"><a href="#步驟分析" class="headerlink" title="步驟分析"></a>步驟分析</h1><ol><li>建立 &lt;canvas&gt; 標籤，並綁定 mousemove 事件以觸發 draw( )。</li><li>在 html 中建立 &lt;canvas&gt; 標籤後，尚需以如下指令取得 2D 之渲染環境。<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li>設定筆刷形狀、顏色，線段相接形狀、線寬等資訊。<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ctx.strokeStyle = <span class="string">&#x27;#BADA55&#x27;</span>; <span class="comment">//選圓形筆刷，並設定顏色</span></span><br><span class="line">ctx.lineJoin = <span class="string">&#x27;round&#x27;</span>; <span class="comment">//線段相接處為圓弧形</span></span><br><span class="line">ctx.lineCap = <span class="string">&#x27;round&#x27;</span>; <span class="comment">//筆頭為圓形</span></span><br><span class="line">ctx.lineWidth = <span class="number">10</span>; <span class="comment">//線寬(單位為畫布座標單位)</span></span><br></pre></td></tr></table></figure></li><li>給定一變數以設置是否處於繪畫狀態。若按下滑鼠鍵則開始畫圖；而若是放開滑鼠鍵或指標超過繪圖區，則關閉繪畫狀態。值得注意畫布大小若超過視窗邊界，一旦超過視窗一樣會觸發 mouseout 事件；所以之後可以考慮將 canvas 的長寬都定在視窗內邊界，以避免一些問題發生(如電腦自動連接上一次或出界前的點…)!!<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> isDrawing = <span class="literal">false</span>; <span class="comment">//重要：切換狀態為繪圖與否</span></span><br><span class="line">canvas.addEventListener(<span class="string">&#x27;mousedown&#x27;</span> , <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    isDrawing = <span class="literal">true</span>; <span class="comment">//按下滑鼠鍵開始繪圖</span></span><br><span class="line">    [lastX, lastY] = [e.offsetX, e.offsetY]; <span class="comment">//開啟新一次的繪圖，避免自動連接到上一次的終點</span></span><br><span class="line">&#125;)</span><br><span class="line">canvas.addEventListener(<span class="string">&#x27;mouseup&#x27;</span>, <span class="function">() =&gt;</span> isDrawing = <span class="literal">false</span>);</span><br><span class="line">canvas.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function">() =&gt;</span> isDrawing = <span class="literal">false</span>); <span class="comment">//避免自動連接出界前後的點</span></span><br></pre></td></tr></table></figure></li><li>控制起始點、色相變化，並完成 draw( )。<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> lastX = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> lastY = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> hue = <span class="number">0</span>; <span class="comment">//色相</span></span><br><span class="line"><span class="keyword">let</span> lineWidthToggle = <span class="literal">true</span>; <span class="comment">//控制線條是越來越寬 還是越來越窄</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isDrawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// console.log(&#x27;我在畫畫&#x27;);</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">    ctx.beginPath(); <span class="comment">//開始新繪圖路徑</span></span><br><span class="line">    ctx.moveTo(lastX, lastY); <span class="comment">//設定起始點</span></span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY); <span class="comment">//設定線段終止點</span></span><br><span class="line">    ctx.stroke(); <span class="comment">//真正的著色指令</span></span><br><span class="line">    [lastX, lastY] = [e.offsetX, e.offsetY]; <span class="comment">//避免變成在畫扇形圖</span></span><br><span class="line"></span><br><span class="line">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;hue&#125;</span>, 100%, 50%)`</span>;</span><br><span class="line">    (hue &lt; <span class="number">360</span>) ? hue++ : hue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ctx.lineWidth &lt;= <span class="number">1</span> || ctx.lineWidth &gt;= <span class="number">50</span>) lineWidthToggle = !lineWidthToggle;</span><br><span class="line">    (lineWidthToggle) ? ctx.lineWidth++ : ctx.lineWidth--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  </li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5 Canvas<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;draw&quot;</span> <span class="attr">width</span>=<span class="string">&quot;1000&quot;</span> <span class="attr">height</span>=<span class="string">&quot;600&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-tag">html</span>, <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  <span class="selector-id">#draw</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="attribute">border</span>: <span class="number">2px</span> solid gray;</span></span><br><span class="line"><span class="css">  &#125;</span></span><br><span class="line"><span class="css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;draw&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  canvas.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, draw);</span></span><br><span class="line"><span class="javascript">  </span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> ctx = canvas.getContext(<span class="string">&#x27;2d&#x27;</span>); <span class="comment">//取得渲染環境</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// console.log(ctx);</span></span></span><br><span class="line"><span class="javascript">  ctx.strokeStyle = <span class="string">&#x27;#BADA55&#x27;</span>; <span class="comment">//選圓形筆刷，並設定顏色</span></span></span><br><span class="line"><span class="javascript">  ctx.lineJoin = <span class="string">&#x27;round&#x27;</span>; <span class="comment">//線段相接處為圓弧形</span></span></span><br><span class="line"><span class="javascript">  ctx.lineCap = <span class="string">&#x27;round&#x27;</span>; <span class="comment">//筆頭為圓形</span></span></span><br><span class="line"><span class="javascript">  ctx.lineWidth = <span class="number">10</span>; <span class="comment">//線寬(單位為畫布座標單位)</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> isDrawing = <span class="literal">false</span>; <span class="comment">//重要：切換狀態為繪圖與否</span></span></span><br><span class="line"><span class="javascript">  canvas.addEventListener(<span class="string">&#x27;mousedown&#x27;</span> , <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    isDrawing = <span class="literal">true</span>; <span class="comment">//按下滑鼠鍵開始繪圖</span></span></span><br><span class="line"><span class="javascript">    [lastX, lastY] = [e.offsetX, e.offsetY]; <span class="comment">//開啟新一次的繪圖，避免自動連接到上一次的終點</span></span></span><br><span class="line"><span class="javascript">  &#125;)</span></span><br><span class="line"><span class="javascript">  canvas.addEventListener(<span class="string">&#x27;mouseup&#x27;</span>, <span class="function">() =&gt;</span> isDrawing = <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">  canvas.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function">() =&gt;</span> isDrawing = <span class="literal">false</span>); <span class="comment">//避免自動連接出界前後的點</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> lastX = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> lastY = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> hue = <span class="number">0</span>; <span class="comment">//色相</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> lineWidthToggle = <span class="literal">true</span>; <span class="comment">//控制線條是越來越寬 還是越來越窄</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (!isDrawing) <span class="keyword">return</span>;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// console.log(&#x27;我在畫畫&#x27;);</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(e);</span></span><br><span class="line"><span class="javascript">    ctx.beginPath(); <span class="comment">//開始新繪圖路徑</span></span></span><br><span class="line"><span class="javascript">    ctx.moveTo(lastX, lastY); <span class="comment">//設定起始點</span></span></span><br><span class="line"><span class="javascript">    ctx.lineTo(e.offsetX, e.offsetY); <span class="comment">//設定線段終止點</span></span></span><br><span class="line"><span class="javascript">    ctx.stroke(); <span class="comment">//真正的著色指令</span></span></span><br><span class="line"><span class="javascript">    [lastX, lastY] = [e.offsetX, e.offsetY]; <span class="comment">//避免變成在畫扇形圖</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;hue&#125;</span>, 100%, 50%)`</span>;</span></span><br><span class="line"><span class="javascript">    (hue &lt; <span class="number">360</span>) ? hue++ : hue = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (ctx.lineWidth &lt;= <span class="number">1</span> || ctx.lineWidth &gt;= <span class="number">50</span>) lineWidthToggle = !lineWidthToggle;</span></span><br><span class="line"><span class="javascript">    (lineWidthToggle) ? ctx.lineWidth++ : ctx.lineWidth--;</span></span><br><span class="line"><span class="javascript">  &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> canvas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-07 Props (2/2)</title>
      <link href="/2021/06/05/React-07/"/>
      <url>/2021/06/05/React-07/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 組件實例三大屬性之二：Props</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>如何對 props 進行限制</li><li>props 的簡寫方式  </li><li>函數式組件使用 props</li></ol><hr><h1 id="對-props-進行限制"><a href="#對-props-進行限制" class="headerlink" title="對 props 進行限制"></a>對 props 進行限制</h1><ol><li>要想對 props 進行任何限制之前，必須引入 prop-types.js。引入之後，全局就多了一個 PropsTypes 可用。如第 17 行程式碼。</li><li>我們可以對 props 的「類型」以及「必要性」進行限制。類型有 string、number、func 等；而若為必要，則加上 isRequired。</li><li>特別注意：第 34 行是 <span style="color: red;">小寫</span>的 propTypes!!!</li><li>欲指定默認的值可使用 defaultProps，如第 41~43 行程式所為。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>對props進行限制<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 引入prop-types，全局就有PropTypes可用，目的在於對組件標籤屬性進行限制 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;name,age,sex&#125; = <span class="built_in">this</span>.props;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> (</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>年紀：&#123;age+1&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//對標籤屬性進行「類型」、「必要性」的限制</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//注意不同限制之間以&quot;逗號&quot;隔開，而非分號</span></span></span><br><span class="line"><span class="javascript">Person.propTypes = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">name</span>: PropTypes.string.isRequired, <span class="comment">//限制name必傳，且為字符串</span></span></span><br><span class="line"><span class="javascript"><span class="attr">sex</span>: PropTypes.string, <span class="comment">//限制sex為字符串</span></span></span><br><span class="line"><span class="javascript"><span class="attr">age</span>: PropTypes.number, <span class="comment">//限制age為數值</span></span></span><br><span class="line"><span class="javascript"><span class="attr">speak</span>: PropTypes.func, <span class="comment">//限制speak為函數</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//指定默認的標籤屬性值</span></span></span><br><span class="line"><span class="javascript">Person.defaultProps = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>, <span class="comment">//sex默認值為男</span></span></span><br><span class="line"><span class="javascript"><span class="attr">age</span>: <span class="number">18</span> <span class="comment">//age默認值為18</span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">name</span>=<span class="string">&#123;100&#125;</span> <span class="attr">speak</span>=<span class="string">&#123;speak&#125;/</span>&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test1&#x27;</span>)); <span class="comment">//會出警告</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">name</span>=<span class="string">&quot;tom&quot;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> <span class="attr">sex</span>=<span class="string">&quot;女&quot;</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test2&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> p = &#123;<span class="attr">name</span>:<span class="string">&#x27;于潔&#x27;</span>, <span class="attr">age</span>:<span class="number">18</span>, <span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125;/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test3&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;我說話了&#x27;</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  </li></ol><hr><h1 id="props-的簡寫方式"><a href="#props-的簡寫方式" class="headerlink" title="props 的簡寫方式"></a>props 的簡寫方式</h1><p>可透過將 propTypes 和 defaultProps 移入 class 內來精簡代碼，<br>但須加入 static 關鍵字才會加到 class 自身上。  </p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/babel&quot;</span>&gt;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> propTypes = &#123; <span class="comment">//加上static關鍵字，將限制加到class身上</span></span><br><span class="line">            <span class="attr">name</span>: PropTypes.string.isRequired, </span><br><span class="line">            <span class="attr">sex</span>: PropTypes.string,</span><br><span class="line">            <span class="attr">age</span>: PropTypes.number,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">static</span> defaultProps = &#123; <span class="comment">//加上static關鍵字，將限制加到class身上</span></span><br><span class="line">            <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">            <span class="attr">age</span>: <span class="number">18</span> </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">const</span> &#123;name,age,sex&#125; = <span class="built_in">this</span>.props;</span><br><span class="line">            <span class="keyword">return</span> (</span><br><span class="line">                <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>年紀：&#123;age+1&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> p = &#123;<span class="attr">name</span>:<span class="string">&#x27;jerry&#x27;</span>, <span class="attr">age</span>:<span class="number">20</span>&#125;;</span><br><span class="line">    ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125; /&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test1&#x27;</span>));</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>  <hr><h1 id="函數式組件使用-props"><a href="#函數式組件使用-props" class="headerlink" title="函數式組件使用 props"></a>函數式組件使用 props</h1><p>照理來講，props 是 React 中組件的實例對象身上所具有的三大屬性其中一個，而函數式組件並沒有實例對象，玩不了 props ；但因為函數式組件可以傳入參數的這麼一個特性，使得它可以使用 props !!<br>值得注意到，函數式組件無法像上述類式組件一樣去精簡程式碼，即 propTypes 與 defaultProps 無法寫在函數式組件裡面!!  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>函數式組件使用props<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/prop-types.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">props</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;name,age,sex&#125; = props;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> (</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>年紀：&#123;age+1&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">Person.propTypes = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">name</span>: PropTypes.string.isRequired,</span></span><br><span class="line"><span class="javascript"><span class="attr">sex</span>: PropTypes.string,</span></span><br><span class="line"><span class="javascript"><span class="attr">age</span>: PropTypes.number,</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">Person.defaultProps = &#123;</span></span><br><span class="line"><span class="javascript"><span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span>,</span></span><br><span class="line"><span class="javascript"><span class="attr">age</span>: <span class="number">18</span> </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">name</span>=<span class="string">&quot;jerry&quot;</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test1&#x27;</span>))</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> Props </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> props </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第七課 (Array Cardio 💪💪)</title>
      <link href="/2021/06/05/js30-07/"/>
      <url>/2021/06/05/js30-07/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 語法中 Array 的使用 (二)</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>JS 中 array 的 some、every、find、findIndex、slice、splice  </p><hr><h1 id="使用資料"><a href="#使用資料" class="headerlink" title="使用資料"></a>使用資料</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;Wes&#x27;</span>, <span class="attr">year</span>: <span class="number">1988</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;Kait&#x27;</span>, <span class="attr">year</span>: <span class="number">1986</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;Irv&#x27;</span>, <span class="attr">year</span>: <span class="number">1970</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;Lux&#x27;</span>, <span class="attr">year</span>: <span class="number">2015</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> comments = [</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">&#x27;Love this!&#x27;</span>, <span class="attr">id</span>: <span class="number">523423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">&#x27;Super good&#x27;</span>, <span class="attr">id</span>: <span class="number">823423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">&#x27;You are the best&#x27;</span>, <span class="attr">id</span>: <span class="number">2039842</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">&#x27;Ramen is my fav food ever&#x27;</span>, <span class="attr">id</span>: <span class="number">123523</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">&#x27;Nice Nice Nice!&#x27;</span>, <span class="attr">id</span>: <span class="number">542328</span> &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>  <hr><h2 id="第一題：Array-prototype-some"><a href="#第一題：Array-prototype-some" class="headerlink" title="第一題：Array.prototype.some( )"></a>第一題：Array.prototype.some( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. Is at least one person 19 or older?</span></span><br><span class="line">    <span class="keyword">let</span> ans1 = people.some(<span class="function"><span class="params">person</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - person.year &gt;= <span class="number">19</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ans1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><hr><h2 id="第二題：Array-prototype-every"><a href="#第二題：Array-prototype-every" class="headerlink" title="第二題：Array.prototype.every( )"></a>第二題：Array.prototype.every( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2. Is everyone 19 or older?</span></span><br><span class="line">    <span class="keyword">let</span> ans2 = people.every(<span class="function"><span class="params">person</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear() - person.year &gt;= <span class="number">19</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ans2); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>  <div class="alert alert-info" style="font-size: 14px">some 是至少有一個成立就 okay；every 是全部都要成立。</div>  <hr><h2 id="第三題：Array-prototype-find"><a href="#第三題：Array-prototype-find" class="headerlink" title="第三題：Array.prototype.find( )"></a>第三題：Array.prototype.find( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 3. Find the comment with the ID of 823423.</span></span><br><span class="line">    <span class="keyword">let</span> ans3 = comments.find(<span class="function"><span class="params">comment</span> =&gt;</span> comment.id === <span class="number">823423</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ans3); <span class="comment">// object:&#123; text: &#x27;Super good&#x27;, id: 823423 &#125;</span></span><br></pre></td></tr></table></figure>  <div class="alert alert-info" style="font-size: 14px">find 很像 filter ，但只抓 <b>第一個</b> 成立的!!</div>  <hr><h2 id="第四題：Array-prototype-findIndex"><a href="#第四題：Array-prototype-findIndex" class="headerlink" title="第四題：Array.prototype.findIndex( )"></a>第四題：Array.prototype.findIndex( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 4. Find the comment index with the ID of 823423.</span></span><br><span class="line">    <span class="keyword">let</span> ans4 = comments.findIndex(<span class="function"><span class="params">comment</span> =&gt;</span> comment.id === <span class="number">823423</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ans4); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>  <div class="alert alert-info" style="font-size: 14px">同 find，findIndex 在有超過一個符合的元素時，也只回傳 <b>第一個</b> 成立的元素的 index 值。</div>  <hr><h2 id="第五題：Array-prototype-slice"><a href="#第五題：Array-prototype-slice" class="headerlink" title="第五題：Array.prototype.slice( )"></a>第五題：Array.prototype.slice( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 5. Delete the comment with the ID of 823423.</span></span><br><span class="line">    <span class="keyword">let</span> newComments = [...comments.slice(<span class="number">0</span>,ans4), ...comments.slice(ans4+<span class="number">1</span>)];</span><br><span class="line">    <span class="built_in">console</span>.log(newComments);</span><br></pre></td></tr></table></figure><hr><h2 id="第六題：Array-prototype-splice"><a href="#第六題：Array-prototype-splice" class="headerlink" title="第六題：Array.prototype.splice( )"></a>第六題：Array.prototype.splice( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 6. Delete the comment with the ID of 823423.</span></span><br><span class="line">    comments.splice(ans4, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(comments);</span><br></pre></td></tr></table></figure>  <div class="alert alert-info" style="font-size: 14px">slice 跟 splice 最大的區別在於：<br>slice 可將切割後的元素另外組成新的陣列，而不去改變原有的陣列；<br>反觀 <b>splice</b> 則是 <b>直接更改</b> 原有之陣列!!!</div>  <hr><h1 id="注意事項"><a href="#注意事項" class="headerlink" title="注意事項"></a>注意事項</h1><div class="alert alert-danger" style="font-size: 16px">在 Array.prototype.function( ) 裡面，箭頭函數的右側 <span style="color: red"><u>別使用大括號，除非有&nbsp;return</u></span>, 否則皆以小括號取代。</div>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-06 Props (1/2)</title>
      <link href="/2021/06/04/React-06/"/>
      <url>/2021/06/04/React-06/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 組件實例三大屬性之二：Props</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>展開運算符的使用</li><li>props基本使用方式  </li></ol><hr><h1 id="展開運算符-…"><a href="#展開運算符-…" class="headerlink" title="展開運算符 …"></a>展開運算符 …</h1><ol><li>展開運算符可以用來展開一個數組(陣列)，也可用來連結不同的陣列，形成一個新的陣列；如同第 10 和 12 行程式碼所為。</li><li>展開運算符可以作為一函數的參數，如第 16 行。</li><li>展開運算符<span style="color: white; background-color: red;">不能</span>用來展開一個對象(物件)；但<span style="color: blue">可以</span>用來複製一個物件。如同第 25 與 26 行程式。</li><li>使用展開運算符建構(或複製)物件時，其內容會合併，非替換。如第 32 行所示。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>展開運算符<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];</span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> arr2 = [<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>];</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(...arr1); <span class="comment">//展開一個數組(陣列)： 1 3 5 7 9</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> arr3 = [...arr1,...arr2]; <span class="comment">//連結數組</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(arr3);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//在函數中使用</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...numbers</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> numbers.reduce(<span class="function">(<span class="params">preValue,currentValue</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> preValue + currentValue;</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)); <span class="comment">// 10</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//構造(建構)字面量對象(物件)時使用</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> person = &#123;<span class="attr">name</span>:<span class="string">&#x27;tom&#x27;</span>, <span class="attr">age</span>:<span class="number">18</span>&#125;;</span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(...person); //報錯!! 展開運算符不能用來展開對象</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> person2 = &#123;...person&#125;; <span class="comment">//展開運算符可以用來&quot;複製&quot;對象</span></span></span><br><span class="line"><span class="javascript">person.name = <span class="string">&#x27;jerry&#x27;</span>;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(person); <span class="comment">//只有它改了</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(person2); <span class="comment">//它沒改</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//合併，非替換</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">let</span> person3 = &#123;...person, <span class="attr">name</span>:<span class="string">&#x27;jack&#x27;</span>, <span class="attr">address</span>:<span class="string">&quot;地球&quot;</span>&#125;;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(person3);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  </li></ol><hr><h1 id="Props-的基本使用"><a href="#Props-的基本使用" class="headerlink" title="Props 的基本使用"></a>Props 的基本使用</h1><ol><li>props 在 React 中的角色是讓程式從「外部」去獲取資料，且其得到的資料具備「唯讀」屬性，<strong>不能更改</strong>。</li><li>props 是由 ReactDOM.render 中所渲染的組件標籤裡傳入，如第 32、33 行程式碼。</li><li>當想要傳入的資料量龐大時，前項作法很不具有效率，可改由如第 35 行程式碼一次性傳入，有點像是從外部抓取一個 JSON 檔案，經適當處理後直接餵給 props。</li><li>資料傳入後放在 props 裡，可供內部調用，如程式碼第 21~27 行，將 props 裡的資料取出，並以 &lt;ul&gt; &lt;li&gt; 的方式呈現到頁面。須注意到第 26 行程式是允許的，因為它不是在更改 props 的值，它只是在作運算!!</li><li>最後需要注意到兩件事：  </li></ol><div class="alert alert-warning" style="font-size: 16px;">1. 第 36 行代碼若寫在 javascipt 中一定報錯，但在 babel 中不會，<br>&nbsp;&nbsp;&nbsp;&nbsp;只是仍然不會運行，即<u><b><i>展開運算符不能用來展開物件</i></b></u>。<br>2. 千萬別誤會第 39 行程式，以為它是在 React 當中使用展開運算符來展開物件；<br>&nbsp;&nbsp;&nbsp;&nbsp;它只是 React 提供的一個「語法」，且此語法只能用在 <b><i>標籤</i></b> 之中；<br>&nbsp;&nbsp;&nbsp;&nbsp;然而若是像第 36 行程式碼那樣，React 是不會理你的!!! </div>   <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>props基本使用<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test3&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//1. 創建組件</span></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(this); //Person的實例對象</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;name,age,sex&#125; = <span class="built_in">this</span>.props; </span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> (</span></span><br><span class="line"><span class="javascript"><span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>姓名：&#123;name&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>性别：&#123;sex&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;<span class="name">li</span>&gt;</span>年紀：&#123;age+1&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//2. 渲染組件到頁面</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">name</span>=<span class="string">&quot;jerry&quot;</span> <span class="attr">age</span>=<span class="string">&#123;19&#125;</span>  <span class="attr">sex</span>=<span class="string">&quot;男&quot;</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;test1&#x27;</span>));</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> <span class="attr">name</span>=<span class="string">&quot;mary&quot;</span> <span class="attr">age</span>=<span class="string">&#123;18&#125;</span> <span class="attr">sex</span>=<span class="string">&quot;女&quot;</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;test2&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> p = &#123;<span class="attr">name</span>:<span class="string">&#x27;于潔&#x27;</span>, <span class="attr">age</span>:<span class="number">18</span>, <span class="attr">sex</span>:<span class="string">&#x27;女&#x27;</span>&#125;;</span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(&#x27;@&#x27;,...p); //在js中會報錯，但在babel中不報錯；不過依然不能用在對象上</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">// ReactDOM.render(&lt;Person name=&#123;p.name&#125; age=&#123;p.age&#125; sex=&#123;p.sex&#125;/&gt;, document.getElementById(&#x27;test3&#x27;));</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Person</span> &#123;<span class="attr">...p</span>&#125;/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test3&#x27;</span>)); <span class="comment">//非展開對象，只是一個語法，且只能用於標籤內</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> Props </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> props </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第六課 (Type Ahead 👀)</title>
      <link href="/2021/06/04/js30-06/"/>
      <url>/2021/06/04/js30-06/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JSON 文件的引入與處理</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>JSON 文件的引入並轉為陣列</li><li>文字的比對</li><li>正則表達式</li><li>陣列內容的替換及輸出  </li></ol><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Type Ahead 👀<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;style.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;search-form&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">class</span>=<span class="string">&quot;search&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;City or State&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;suggestions&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Filter for a city<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>or a state<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> endpoint = <span class="string">&#x27;https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json&#x27;</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> place = [];</span></span><br><span class="line"><span class="javascript">fetch(endpoint)</span></span><br><span class="line"><span class="javascript">  .then(<span class="function"><span class="params">blob</span> =&gt;</span> blob.json())</span></span><br><span class="line"><span class="javascript">  .then(<span class="function"><span class="params">data</span> =&gt;</span> place.push(...data));</span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(place.length); // 1000</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// console.log(place);</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> searchInput = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.search&#x27;</span>);</span></span><br><span class="line"><span class="javascript">searchInput.addEventListener(<span class="string">&#x27;change&#x27;</span>, displayMatches); <span class="comment">// 為了偵測到非鍵盤所造成之改變，如:滑鼠選取刪除文字</span></span></span><br><span class="line"><span class="javascript">searchInput.addEventListener(<span class="string">&#x27;keyup&#x27;</span>, displayMatches);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">findMatches</span>(<span class="params">wordToMatch, place</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">return</span> place.filter(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// here we need to figure out if the city or state matches what was searched</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(wordToMatch, <span class="string">&#x27;gi&#x27;</span>); </span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> p.city.match(regex) || p.state.match(regex);</span></span><br><span class="line"><span class="javascript">  &#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">return</span> x.toString().replace(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">&#x27;,&#x27;</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> suggestions = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.suggestions&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">displayMatches</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> matchArray = findMatches(<span class="built_in">this</span>.value, place);</span></span><br><span class="line"><span class="javascript">  <span class="comment">// console.log(matchArray);</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> html = matchArray.map(<span class="function"><span class="params">p</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="built_in">this</span>.value, <span class="string">&#x27;gi&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> cityName = p.city.replace(regex, <span class="string">`&lt;span class=&quot;hl&quot;&gt;<span class="subst">$&#123;<span class="built_in">this</span>.value&#125;</span>&lt;/span&gt;`</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> stateName = p.state.replace(regex, <span class="string">`&lt;span class=&quot;hl&quot;&gt;<span class="subst">$&#123;<span class="built_in">this</span>.value&#125;</span>&lt;/span&gt;`</span>);</span></span><br><span class="line"><span class="javascript">    </span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="javascript">      &lt;li&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;span class=&quot;name&quot;&gt;<span class="subst">$&#123;cityName&#125;</span>, <span class="subst">$&#123;stateName&#125;</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">        &lt;span class=&quot;population&quot;&gt;<span class="subst">$&#123;numberWithCommas(p.population)&#125;</span>&lt;/span&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">      &lt;/li&gt;</span></span></span><br><span class="line"><span class="string"><span class="javascript">    `</span>;</span></span><br><span class="line"><span class="javascript">  &#125;).join(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line"><span class="javascript">  suggestions.innerHTML = html;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h1 id="說明及註記"><a href="#說明及註記" class="headerlink" title="說明及註記"></a>說明及註記</h1><ol><li>第 10、16 行是使用 form 表單，所以按下 return 鍵會有一提交(submit)事件的觸發，在此例中會清除輸入框內容；若不想要有這些效果，可將 &lt;form&gt; 改為 &lt;div&gt;。</li><li>第 19~23 行演示了如何將 JSON 文件使用 fetch 、blob、push 等方式轉換為一陣列。</li><li>第 28、29 行在綁定 change 和 keyup 事件，與先前的 &lt;form&gt; 或 &lt;div&gt; 可以有不同的組合，產生不同的效果。理論上 change 在本例可加可不加，加上它可防止因為非鍵盤(例如：滑鼠)事件而發生輸入框值的改變而未重啟 displayMatches( )。</li><li>displayMatches( ) 呼叫 findMatches( )，利用 array.filter( ) 抓出與使用者輸入字符相符的資料，得到一組陣列。</li><li>而第 48~59 行則是將這組相符的陣列，使用 array.map( ), 一個一個的利用 正則表達 將資料中相符的字元 替換(replace) 成一串 &lt;span&gt; 標籤，目的在將符合的字元加入背景，並且返回一組 &lt;li&gt; 表示式。</li><li>由於 array.map( ) 它會返回一個新的陣列，這也是與 forEach 最大的不同，所以建議在需要對陣列的返回值再加工的情況下才使用 map。</li><li>第 59、60 行是將陣列合併成一個字串，並將該字串以 innerHTML 的方式塞回 DOM 裡面作頁面的呈現。值得注意的是 <span style="color: #d9534f;"> join( ) 預設以逗號作連結</span>；我們可以指定不同的連結符號，比如 join(‘-‘) 就會以破折號作字串間的連結；而在本例中不需要任何符號作連結，所以使用空字符號 join(‘’) 。   </li></ol><hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-05 State</title>
      <link href="/2021/06/03/React-05/"/>
      <url>/2021/06/03/React-05/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">了解 React 組件實例三大屬性之一：State</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>熟悉 state 的初始化、調用與修改</li><li>結合 賦值語句及箭頭函數 將程式精簡化   </li></ol><hr><h1 id="正規寫法"><a href="#正規寫法" class="headerlink" title="正規寫法"></a>正規寫法</h1><ol><li>創建類式組件，render( ) 必寫，也必有返回值。</li><li>渲染組件到頁面 by ReactDOM.rendor( )；注意<span class="text-danger">標籤必須閉合</span>。</li><li>要初始化 state，寫構造器/建構器。</li><li>建構器一定要回傳 props, 如第20行程式所為。</li><li>以 object 的形態( {key:value} )來初始化 state。</li><li>在 render 中讀取狀態, 並加入 onClick 事件在 &lt;h1&gt; 裡，須注意<span class="text-danger"> C 要大寫</span>。</li><li>在類中加一 method：changeWeather_( )，其目的是修改 state 的值。</li><li>此時又碰到了同樣的老問題：this 指向不正確。如同第37、38行註解。</li><li>修正方式可採取 bind 指令，將原型對象上的 changeWeather_( ) 綁到實例對象上，並取名叫 _changeWeather( )。<span class="text-primary">這兩個的名字可同可不同，在此特別以底線的位置來區分，以加深了解第24、31及34行指令之間的關係</span>。</li><li>最後，要修改 state 的值時，千萬不可直接修改，必須使用 setState( ) 來進行；否則即便改了， React 也不承認!!  </li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>state<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//1.創建類式組件</span></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Weather</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">constructor</span>(<span class="params">props</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;constructor&#x27;</span>); <span class="comment">//構造器總共調用幾次？ ———— 1次</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">super</span>(props);</span></span><br><span class="line"><span class="javascript"><span class="comment">//初始化狀態</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.state = &#123;<span class="attr">isHot</span>:<span class="literal">false</span>, <span class="attr">wind</span>:<span class="string">&#x27;微風&#x27;</span>&#125;;</span></span><br><span class="line"><span class="javascript"><span class="comment">//用bind來解决changeWeather中this指向問題</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>._changeWeather = <span class="built_in">this</span>.changeWeather_.bind(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;render&#x27;</span>); <span class="comment">//render總共調用幾次？ ———— 1+n次 1是初始化的那次 n是狀態更新的次數</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//讀取狀態</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;isHot, wind&#125; = <span class="built_in">this</span>.state;</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this._changeWeather&#125;</span>&gt;</span>今天天氣很&#123;isHot ? &#x27;炎熱&#x27; : &#x27;凉爽&#x27;&#125;，&#123;wind&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">changeWeather_</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">//changeWeather放在哪裡？ ———— Weather的原型對象上，供實例使用</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript"><span class="comment">//由於changeWeather是作為onClick的回調，所以不是通過實例調用的，是直接調用!</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//且類中的方法默認開啟了局部的嚴格模式，再加上babel，所以changeWeather中的this為undefined</span></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;changeWeather&#x27;</span>); <span class="comment">//changeWeather總共調用幾次？ ———— 點幾次調幾次</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//獲取原來的isHot值</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> isHot = <span class="built_in">this</span>.state.isHot;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//注意：狀態(state)不可直接更改！！！</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//this.state.isHot = !isHot //這是錯誤的寫法</span></span></span><br><span class="line"><span class="javascript"><span class="comment">//狀態必須通過setState進行更新,且更新是一種合併，不是替换。(wind狀態不會丟失)</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;<span class="attr">isHot</span>: !isHot&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//2.渲染組件到頁面</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Weather</span>/&gt;</span></span>, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr><h1 id="精簡程式碼"><a href="#精簡程式碼" class="headerlink" title="精簡程式碼"></a>精簡程式碼</h1><ol><li>運用 賦值語句+箭頭函數 直接在類中定義 changeWeather 方法，它不但會存在於所有該類的實例對象上，其 this 也指向實例對象!!</li><li>因此不再需要借助 bind 的協助，可刪除該行程式碼。</li><li>state 的定義或初始化，也可用賦值語句的方式進行，因此可在建構器之外賦值，則整個構造器可刪除!  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>state簡寫方式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">Weather</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span></span><br><span class="line"><span class="javascript">state = &#123;<span class="attr">isHot</span>:<span class="literal">false</span>,<span class="attr">wind</span>:<span class="string">&#x27;微風&#x27;</span>&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> &#123;isHot,wind&#125; = <span class="built_in">this</span>.state</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">onClick</span>=<span class="string">&#123;this.changeWeather&#125;</span>&gt;</span>今天天氣很&#123;isHot ? &#x27;炎熱&#x27; : &#x27;涼爽&#x27;&#125;，&#123;wind&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//自定義方法————要用賦值語句的形式+箭頭函數</span></span></span><br><span class="line"><span class="javascript">changeWeather = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> isHot = <span class="built_in">this</span>.state.isHot;</span></span><br><span class="line"><span class="javascript"><span class="built_in">this</span>.setState(&#123;<span class="attr">isHot</span>:!isHot&#125;);</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Weather</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  </li></ol><hr><div class="alert alert-warning" style="font-size: 16px">1. 構造器總共運行了 1 次 <br>2. changeWeather( ) 總共運行了 n 次，點幾次調用幾次 <br>3. render( ) 總共運行了 n+1 次，其中的 1 指得是初始化的那次</div>     <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> State </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> state </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/06/03/hello-world/"/>
      <url>/2021/06/03/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><span id="more"></span><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第五課 (Flex Panels 💪)</title>
      <link href="/2021/06/03/js30-05/"/>
      <url>/2021/06/03/js30-05/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 CSS 語法中 Flex 的使用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>CSS Flex 的使用  </p><hr><h1 id="步驟說明"><a href="#步驟說明" class="headerlink" title="步驟說明"></a>步驟說明</h1><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1."></a>Step 1.</h2><p>加入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">justify-content</span>: space-between;</span><br></pre></td></tr></table></figure><p>於 panels，讓 panel 以 row 的方向排列。  </p><hr><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2."></a>Step 2.</h2><p>在 panel 中加上</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>: <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>讓 panel 能 growth 漲大並平均佔滿父層。<br>另外，也加入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: flex;</span><br><span class="line"><span class="attribute">flex-direction</span>: column;</span><br><span class="line"><span class="attribute">justify-content</span>: space-around;</span><br></pre></td></tr></table></figure><p>讓下層的 &lt;p&gt; 能以 column 的方向用 space-around 的方式排列。</p><hr><h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3."></a>Step 3.</h2><p>為了讓第一行與第三行字有移出、移入的效果，分別加入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">300%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>和</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">300%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>讓它們原本的位置超出版面因而看不見。  </p><hr><h2 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4."></a>Step 4.</h2><p>當使用者點擊某張圖片時，我們在該 panel 上加入 open 這個自定義的 class，<br>好讓該張圖片放大，佔據較大的版面：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span><span class="selector-class">.open</span> &#123;</span><br><span class="line">      <span class="attribute">flex</span>: <span class="number">5</span>;</span><br><span class="line">      …</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>並且在 open 的 transitions 跑完之後，打算再加入下列程式，<br>讓第一行字與第三行字能移入到原來位置。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.panel</span><span class="selector-class">.open-active</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.panel</span><span class="selector-class">.open-active</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <hr><h2 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5."></a>Step 5.</h2><p>最後，加上 javascipt ，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.panel&#x27;</span>);</span><br><span class="line">panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;click&#x27;</span>, toggleOpen));</span><br><span class="line">panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;transitionend&#x27;</span>, toggleActive));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleOpen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.classList.toggle(<span class="string">&#x27;open&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggleActive</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e); <span class="comment">// 列出所有 transitionend 事件</span></span><br><span class="line">    <span class="keyword">if</span> (e.propertyName === <span class="string">&#x27;font-size&#x27;</span>) </span><br><span class="line">    e.target.classList.toggle(<span class="string">&#x27;open-active&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>值得一提的是這裡使用 DOM.classList.toggle(‘&nbsp;’) 來切換<br>panel 標籤裡 class 屬性的增加和移除；<br>而第 103 行的 e.target 也可寫成 this，指向同一個 panel。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Flex Panels 💪<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&#x27;https://fonts.googleapis.com/css?family=Amatic+SC&#x27;</span> <span class="attr">rel</span>=<span class="string">&#x27;stylesheet&#x27;</span> <span class="attr">type</span>=<span class="string">&#x27;text/css&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: <span class="string">&#x27;helvetica neue&#x27;</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-weight</span>: <span class="number">200</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    *, *:before, *:after &#123;</span></span><br><span class="line"><span class="css">      box-sizing: inherit;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panels</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: space-between;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#6B0F9C</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">255</span>,<span class="number">255</span>,<span class="number">255</span>,<span class="number">0.1</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">      <span class="comment">/* Safari transitionend event.propertyName === flex */</span></span></span><br><span class="line"><span class="css">      <span class="comment">/* Chrome + FF transitionend event.propertyName === flex-grow */</span></span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>:</span></span><br><span class="line"><span class="css">        font-size <span class="number">0.7s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.61</span>,-<span class="number">0.19</span>, <span class="number">0.7</span>,-<span class="number">0.11</span>),</span></span><br><span class="line"><span class="css">        flex <span class="number">0.7s</span> <span class="built_in">cubic-bezier</span>(<span class="number">0.61</span>,-<span class="number">0.19</span>, <span class="number">0.7</span>,-<span class="number">0.11</span>),</span></span><br><span class="line"><span class="css">        background <span class="number">0.2s</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-position</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex-direction</span>: column;</span></span><br><span class="line"><span class="css">      <span class="attribute">justify-content</span>: space-around;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel1</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/gYl-UtwNg_I/1500x1500</span>); &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel2</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/rFKUFzjPYiQ/1500x1500</span>); &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel3</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d</span>); &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel4</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/ITjiVXcwVng/1500x1500</span>); &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel5</span> &#123; <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">https://source.unsplash.com/3MNzGlQM7qs/1500x1500</span>); &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="comment">/* Flex Children */</span></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> &gt; * &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transition</span>: transform <span class="number">0.5s</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> <span class="selector-tag">p</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-transform</span>: uppercase;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: <span class="string">&#x27;Amatic SC&#x27;</span>, cursive;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.72</span>), <span class="number">0</span> <span class="number">0</span> <span class="number">14px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.45</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">2em</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">    </span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">300%</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> <span class="selector-tag">p</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>) &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">4em</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">300%</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span><span class="selector-class">.open</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex</span>: <span class="number">5</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span><span class="selector-class">.open-active</span> <span class="selector-tag">p</span><span class="selector-pseudo">:first</span>-child &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.panel</span><span class="selector-class">.open-active</span> <span class="selector-tag">p</span><span class="selector-pseudo">:last-child</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panels&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel1&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Let&#x27;s<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Dance<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel2&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Take<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Receive<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel3&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>It<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Today<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel4&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>All<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>You can<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel panel5&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Life<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>In<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Motion<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.panel&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;click&#x27;</span>, toggleOpen));</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="params">panel</span> =&gt;</span> panel.addEventListener(<span class="string">&#x27;transitionend&#x27;</span>, toggleActive));</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">toggleOpen</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">this</span>.classList.toggle(<span class="string">&#x27;open&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">toggleActive</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e); <span class="comment">// 列出所有 transitionend 事件</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span> (e.propertyName === <span class="string">&#x27;font-size&#x27;</span>) </span></span><br><span class="line"><span class="javascript">      e.target.classList.toggle(<span class="string">&#x27;open-active&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> flex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第四課 (Array Cardio 💪)</title>
      <link href="/2021/06/02/js30-04/"/>
      <url>/2021/06/02/js30-04/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 語法中 Array 的使用 (一)</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><p>JS 中 array 的 filter、map、sort、reduce  </p><hr><h1 id="使用資料"><a href="#使用資料" class="headerlink" title="使用資料"></a>使用資料</h1><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> inventors = [</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Albert&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Einstein&#x27;</span>, <span class="attr">year</span>: <span class="number">1879</span>, <span class="attr">passed</span>: <span class="number">1955</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Isaac&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Newton&#x27;</span>, <span class="attr">year</span>: <span class="number">1643</span>, <span class="attr">passed</span>: <span class="number">1727</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Galileo&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Galilei&#x27;</span>, <span class="attr">year</span>: <span class="number">1564</span>, <span class="attr">passed</span>: <span class="number">1642</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Marie&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Curie&#x27;</span>, <span class="attr">year</span>: <span class="number">1867</span>, <span class="attr">passed</span>: <span class="number">1934</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Johannes&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Kepler&#x27;</span>, <span class="attr">year</span>: <span class="number">1571</span>, <span class="attr">passed</span>: <span class="number">1630</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Nicolaus&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Copernicus&#x27;</span>, <span class="attr">year</span>: <span class="number">1473</span>, <span class="attr">passed</span>: <span class="number">1543</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Max&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Planck&#x27;</span>, <span class="attr">year</span>: <span class="number">1858</span>, <span class="attr">passed</span>: <span class="number">1947</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Katherine&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Blodgett&#x27;</span>, <span class="attr">year</span>: <span class="number">1898</span>, <span class="attr">passed</span>: <span class="number">1979</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Ada&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Lovelace&#x27;</span>, <span class="attr">year</span>: <span class="number">1815</span>, <span class="attr">passed</span>: <span class="number">1852</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Sarah E.&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Goode&#x27;</span>, <span class="attr">year</span>: <span class="number">1855</span>, <span class="attr">passed</span>: <span class="number">1905</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Lise&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Meitner&#x27;</span>, <span class="attr">year</span>: <span class="number">1878</span>, <span class="attr">passed</span>: <span class="number">1968</span> &#125;,</span><br><span class="line">      &#123; <span class="attr">first</span>: <span class="string">&#x27;Hanna&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;Hammarström&#x27;</span>, <span class="attr">year</span>: <span class="number">1829</span>, <span class="attr">passed</span>: <span class="number">1909</span> &#125;</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">      <span class="string">&#x27;Bernhard, Sandra&#x27;</span>, <span class="string">&#x27;Bethea, Erin&#x27;</span>, <span class="string">&#x27;Becker, Carl&#x27;</span>, <span class="string">&#x27;Bentsen, Lloyd&#x27;</span>, <span class="string">&#x27;Beckett, Samuel&#x27;</span>, <span class="string">&#x27;Blake, William&#x27;</span>, <span class="string">&#x27;Berger, Ric&#x27;</span>, <span class="string">&#x27;Beddoes, Mick&#x27;</span>, <span class="string">&#x27;Beethoven, Ludwig&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Belloc, Hilaire&#x27;</span>, <span class="string">&#x27;Begin, Menachem&#x27;</span>, <span class="string">&#x27;Bellow, Saul&#x27;</span>, <span class="string">&#x27;Benchley, Robert&#x27;</span>, <span class="string">&#x27;Blair, Robert&#x27;</span>, <span class="string">&#x27;Benenson, Peter&#x27;</span>, <span class="string">&#x27;Benjamin, Walter&#x27;</span>, <span class="string">&#x27;Berlin, Irving&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Benn, Tony&#x27;</span>, <span class="string">&#x27;Benson, Leana&#x27;</span>, <span class="string">&#x27;Bent, Silas&#x27;</span>, <span class="string">&#x27;Berle, Milton&#x27;</span>, <span class="string">&#x27;Berry, Halle&#x27;</span>, <span class="string">&#x27;Biko, Steve&#x27;</span>, <span class="string">&#x27;Beck, Glenn&#x27;</span>, <span class="string">&#x27;Bergman, Ingmar&#x27;</span>, <span class="string">&#x27;Black, Elk&#x27;</span>, <span class="string">&#x27;Berio, Luciano&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Berne, Eric&#x27;</span>, <span class="string">&#x27;Berra, Yogi&#x27;</span>, <span class="string">&#x27;Berry, Wendell&#x27;</span>, <span class="string">&#x27;Bevan, Aneurin&#x27;</span>, <span class="string">&#x27;Ben-Gurion, David&#x27;</span>, <span class="string">&#x27;Bevel, Ken&#x27;</span>, <span class="string">&#x27;Biden, Joseph&#x27;</span>, <span class="string">&#x27;Bennington, Chester&#x27;</span>, <span class="string">&#x27;Bierce, Ambrose&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;Billings, Josh&#x27;</span>, <span class="string">&#x27;Birrell, Augustine&#x27;</span>, <span class="string">&#x27;Blair, Tony&#x27;</span>, <span class="string">&#x27;Beecher, Henry&#x27;</span>, <span class="string">&#x27;Biondo, Frank&#x27;</span></span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> data = [</span><br><span class="line">    <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;truck&#x27;</span>, <span class="string">&#x27;truck&#x27;</span>, <span class="string">&#x27;bike&#x27;</span>, <span class="string">&#x27;walk&#x27;</span>, <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;van&#x27;</span>, <span class="string">&#x27;bike&#x27;</span>, <span class="string">&#x27;walk&#x27;</span>, <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;van&#x27;</span>, <span class="string">&#x27;car&#x27;</span>, <span class="string">&#x27;truck&#x27;</span> </span><br><span class="line">    ];</span><br></pre></td></tr></table></figure>  <hr><h2 id="第一題：Array-prototype-filter"><a href="#第一題：Array-prototype-filter" class="headerlink" title="第一題：Array.prototype.filter( )"></a>第一題：Array.prototype.filter( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. Filter the list of inventors for those who were born in the 1500&#x27;s</span></span><br><span class="line">    <span class="keyword">const</span> ans1 = inventors.filter(<span class="function"><span class="params">inventor</span> =&gt;</span> (inventor.year &gt;= <span class="number">1500</span> &amp;&amp; inventor.year &lt; <span class="number">1600</span>));</span><br><span class="line">    <span class="built_in">console</span>.table(ans1);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-01.png">  </p><hr><h2 id="第二題：Array-prototype-map"><a href="#第二題：Array-prototype-map" class="headerlink" title="第二題：Array.prototype.map( )"></a>第二題：Array.prototype.map( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 2. Give us an array of the inventors first and last names</span></span><br><span class="line">    <span class="keyword">const</span> ans2 = inventors.map(<span class="function"><span class="params">inventor</span> =&gt;</span> (inventor.first + <span class="string">&#x27; &#x27;</span> + inventor.last));</span><br><span class="line">    <span class="built_in">console</span>.table(ans2);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-02.png">  </p><hr><h2 id="第三題：Array-prototype-sort"><a href="#第三題：Array-prototype-sort" class="headerlink" title="第三題：Array.prototype.sort( )"></a>第三題：Array.prototype.sort( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 3. Sort the inventors by birthdate, oldest to youngest</span></span><br><span class="line">    <span class="keyword">const</span> ans3 = inventors.sort(<span class="function">(<span class="params">x, y</span>) =&gt;</span> (x.year &gt;= y.year) ? <span class="number">1</span> : -<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.table(ans3);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-03.png">  </p><hr><h2 id="第四題：Array-prototype-reduce"><a href="#第四題：Array-prototype-reduce" class="headerlink" title="第四題：Array.prototype.reduce( )"></a>第四題：Array.prototype.reduce( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 4. How many years did all the inventors live all together?</span></span><br><span class="line">    <span class="keyword">const</span> ans4 = inventors.reduce(<span class="function">(<span class="params">total, inventor</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> total + (inventor.passed - inventor.year)</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(ans4);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-04.png">  </p><hr><h2 id="第五題：Array-prototype-sort"><a href="#第五題：Array-prototype-sort" class="headerlink" title="第五題：Array.prototype.sort( )"></a>第五題：Array.prototype.sort( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 5. Sort the inventors by years lived</span></span><br><span class="line">    <span class="keyword">const</span> ans5 = inventors.sort(<span class="function">(<span class="params">x, y</span>) =&gt;</span> ((x.passed - x.year) &gt;= (y.passed - y.year)) ? <span class="number">1</span> : -<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.table(ans5);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-05.png">  </p><hr><h2 id="第七題：Array-prototype-sort"><a href="#第七題：Array-prototype-sort" class="headerlink" title="第七題：Array.prototype.sort( )"></a>第七題：Array.prototype.sort( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Sort the people alphabetically by last name</span></span><br><span class="line">    <span class="keyword">const</span> ans7 = people.sort(<span class="function">(<span class="params">x, y</span>) =&gt;</span> (x &gt; y) ? <span class="number">1</span> : -<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.table(ans7);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-07.png">  </p><hr><h2 id="第八題：Array-prototype-reduce"><a href="#第八題：Array-prototype-reduce" class="headerlink" title="第八題：Array.prototype.reduce( )"></a>第八題：Array.prototype.reduce( )</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ans8 = data.reduce(<span class="function">(<span class="params">obj, num</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!obj[num]) obj[num] = <span class="number">0</span>;</span><br><span class="line">      obj[num]++;</span><br><span class="line">      <span class="comment">// console.log(typeof obj); // 物件</span></span><br><span class="line">      <span class="built_in">console</span>.log(obj); </span><br><span class="line">      <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;, &#123;&#125;);</span><br><span class="line">    <span class="built_in">console</span>.table(ans8);</span><br></pre></td></tr></table></figure><p><img src="/images/js30-04-08.png">  </p><hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
            <tag> array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-04 this指向誰</title>
      <link href="/2021/06/01/React-04/"/>
      <url>/2021/06/01/React-04/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">明白 this 指向問題</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>原生 JS 中事件綁定的三種方式</li><li>類 (class) 裡面 方法 (method) 中的 this 指向誰?  </li></ol><hr><h1 id="原生-JS-事件綁定"><a href="#原生-JS-事件綁定" class="headerlink" title="原生 JS 事件綁定"></a>原生 JS 事件綁定</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JS中事件綁定的三種方式<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>按鈕1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>按鈕2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;demo()&quot;</span>&gt;</span>按鈕3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn1&#x27;</span>)</span></span><br><span class="line"><span class="javascript">btn1.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">&#x27;按鈕1被按下了&#x27;</span>)</span></span><br><span class="line"><span class="javascript">&#125;)</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> btn2 = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn2&#x27;</span>)</span></span><br><span class="line"><span class="javascript">btn2.onclick = <span class="function">()=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">&#x27;按鈕2被按下了&#x27;</span>)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">demo</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">&#x27;按鈕3被按下了&#x27;</span>)</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <p>而其中，第三種方式為 React 推薦使用的方式!!!  </p><hr><h1 id="類裡方法-method-的-this-指向"><a href="#類裡方法-method-的-this-指向" class="headerlink" title="類裡方法 (method) 的 this 指向"></a>類裡方法 (method) 的 this 指向</h1><p><span style="font-size: 16px;">Case:</span></p><ol><li>若通過實例 (object) 調用方法，則 this 自然指向實例；如程式碼第26、27行。</li><li>若是如程式碼第30、31行所為，那是直接調用，this 會指向 undefined。</li><li>若是函數式組件，直接調用，則 this 指向 window ；<br>而若再開啟局部嚴格模式，this 也會變成 undefined。</li><li>由於類中可以直接寫賦值語句，其含意為「給所有該類的實例對象上添加一個屬性與值」；<br>而且箭頭函式本身沒有 this ，但在其中寫 this 不但不報錯且會指向上一層的程式碼。<br>所以使用賦值語句加箭頭函式的方式，可讓 this 成功指向實例對象。  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>類裡方法(method)的this指向<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">constructor</span>(<span class="params">name,age</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.name = name</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">this</span>.age = age</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="function"><span class="title">speak</span>(<span class="params"></span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//speak方法放在類的原型對象上，供實例使用</span></span></span><br><span class="line"><span class="javascript">                    <span class="comment">//通過Person實例調用speak時，speak中的this就是Person實例</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// Case 4. </span></span></span><br><span class="line"><span class="javascript">                z = <span class="function"><span class="params">sleep</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">                &#125;</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// Case 1. </span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> p1 = <span class="keyword">new</span> Person(<span class="string">&#x27;tom&#x27;</span>,<span class="number">18</span>);</span></span><br><span class="line"><span class="javascript">            p1.speak();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// Case 2.</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">const</span> x = p1.speak;</span></span><br><span class="line"><span class="javascript">            x();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// Case 3. </span></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">study</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="meta">                &#x27;use strict&#x27;</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">            &#125;</span></span><br><span class="line"><span class="javascript">            study();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// Case 4. </span></span></span><br><span class="line"><span class="javascript">            p1.z();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  </li></ol><hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> javascript </tag>
            
            <tag> this </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第三課 (Scoped CSS Variables and JS)</title>
      <link href="/2021/06/01/js30-03/"/>
      <url>/2021/06/01/js30-03/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習使用 CSS 語法中的變數</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>在 DOM 中使用 dataset 藏資料</li><li>CSS 中變數的使用</li><li>change 和 mousemove 事件</li><li>DOM.style.setProperty( ) 的使用  </li></ol><hr><h1 id="「藏」資料在-DOM-中"><a href="#「藏」資料在-DOM-中" class="headerlink" title="「藏」資料在 DOM 中"></a>「藏」資料在 DOM 中</h1><p>先前說過可利用自定義的屬性來在 DOM 中藏資料；<br>我們也可使用 data-XXX 的屬性，例如：data-name、data-id…<br>來達成相同的目的，而統稱為 dataset。<br>因此，在要調出資料時就可使用 DOM.dataset.XXX 的語法!!<br>如第71行程式碼所為。</p><p>順帶一提，第71行程式等號右邊是一個「二元運算式」，<br>若存在 this.dataset.sizing 則將其值賦予等號左側；<br>若不存在 則將空字元 ‘&nbsp;’ 給等號左側。<br>等同於 (this.dataset.sizing)&nbsp;?&nbsp;this.dataset.sizing&nbsp;:&nbsp;’&nbsp;’;<br>只是程式碼會較簡潔好看。  </p><hr><h1 id="CSS-的變數"><a href="#CSS-的變數" class="headerlink" title="CSS 的變數"></a>CSS 的變數</h1><p>必須以 -- 開頭，如 --myVar ；<br>要使用時須加上 var 前綴，如 var(--myVar) 。</p><p>若我們想要動態的透過 JS 來設定 CSS變數 的值，<br>先前使用的 DOM.style.property = ‘&nbsp;’; 就派不上用場，<br>必須改用 DOM.style.setProperty(name, value); 的方式，<br>如用第73與74行程式碼所演示。  </p><hr><h1 id="change-與-mousemove-事件"><a href="#change-與-mousemove-事件" class="headerlink" title="change 與 mousemove 事件"></a>change 與 mousemove 事件</h1><p>其實我們在此原本只監聽 change 事件，<br>但因為 input 標籤裡若 type=”range” 的話，它會是一個滑桿，<br>讓使用者透過這滑桿來調整 input 的 value。<br>而為了提升使用者體驗，產生即時的改變，<br>所以我們再加上對 mousemove 的監聽!!  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Scoped CSS Variables and JS<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Update CSS Variables with <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&#x27;hl&#x27;</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;spacing&quot;</span>&gt;</span>Spacing:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;spacing&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;spacing&quot;</span> <span class="attr">min</span>=<span class="string">&quot;10&quot;</span> <span class="attr">max</span>=<span class="string">&quot;200&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span> <span class="attr">data-sizing</span>=<span class="string">&quot;px&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;blur&quot;</span>&gt;</span>Blur:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;blur&quot;</span> <span class="attr">type</span>=<span class="string">&quot;range&quot;</span> <span class="attr">name</span>=<span class="string">&quot;blur&quot;</span> <span class="attr">min</span>=<span class="string">&quot;0&quot;</span> <span class="attr">max</span>=<span class="string">&quot;25&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span> <span class="attr">data-sizing</span>=<span class="string">&quot;px&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;base&quot;</span>&gt;</span>Base Color<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;base&quot;</span> <span class="attr">type</span>=<span class="string">&quot;color&quot;</span> <span class="attr">name</span>=<span class="string">&quot;base&quot;</span> <span class="attr">value</span>=<span class="string">&quot;#ffc600&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://source.unsplash.com/7bwQXzbF6KE/800x500&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="css">      --spacing: <span class="number">10px</span>; </span></span><br><span class="line"><span class="css">      --blur: <span class="number">0px</span>;</span></span><br><span class="line"><span class="css">      --base: <span class="number">#ffc600</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="built_in">var</span>(--spacing);</span></span><br><span class="line"><span class="css">      <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="built_in">var</span>(--blur));</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="built_in">var</span>(--base);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.hl</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: <span class="built_in">var</span>(--base);</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="css">      misc styles, nothing to do with CSS variables</span></span></span><br><span class="line"><span class="comment"><span class="css">    */</span></span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#193549</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: <span class="string">&#x27;helvetica neue&#x27;</span>, sans-serif;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-weight</span>: <span class="number">100</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.controls</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin-bottom</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> inputs = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;input&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    inputs.forEach(<span class="function"><span class="params">input</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">&#x27;change&#x27;</span>, eventHandler);</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, eventHandler);</span></span><br><span class="line"><span class="javascript">    &#125;);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">eventHandler</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(this);</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> unit = <span class="built_in">this</span>.dataset.sizing || <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// let unit = (this.dataset.sizing) ? this.dataset.sizing : &#x27;&#x27;;</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.querySelector(<span class="string">&#x27;html&#x27;</span>).style.setProperty(<span class="string">`--<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span>, <span class="built_in">this</span>.value + unit);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.querySelector(<span class="string">&#x27;body&#x27;</span>).style.color = <span class="string">&#x27;red&#x27;</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>   <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-03 函數式組件 與 類式組件</title>
      <link href="/2021/05/31/React-03/"/>
      <url>/2021/05/31/React-03/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 React 中的組件定義</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>何謂組件</li><li>組件的種類與其特性  </li></ol><hr><h1 id="模組-vs-組件"><a href="#模組-vs-組件" class="headerlink" title="模組 vs 組件"></a>模組 vs 組件</h1><p>程式模組化是近一二十年來的潮流，它可以讓設計師以堆積木的方式來編寫程式，<br>具備降低程式除錯與維護的困難，並提升程式復用以及開發的效率…等等優點。<br>例如：HTML、CSS、JS、logo、icon、圖片、聲音檔…都可各自是個模塊。<br><br><br>而組件化，則是將某同一部位的模組，<br>包括了HTML、CSS、JS、logo、icon、圖片、聲音檔…等，<br>全部封裝起來打包在一起，拎了就走。  </p><hr><h1 id="組件的種類"><a href="#組件的種類" class="headerlink" title="組件的種類"></a>組件的種類</h1><h2 id="函數式組件"><a href="#函數式組件" class="headerlink" title="函數式組件"></a>函數式組件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>函數式組件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//1. 創建函數式組件</span></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">MyComponent</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">//此處的this是undefined，因為babel編譯後開啟了嚴格模式</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是用函數定義的組件(適用於【簡單組件】的定義)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//2. 渲染組件到頁面</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>))</span></span><br><span class="line"><span class="javascript"><span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="javascript">執行到 ReactDOM.render 這行之後，發生了什麼？</span></span></span><br><span class="line"><span class="comment"><span class="javascript">1. React解析組件標籤，找到了MyComponent組件。</span></span></span><br><span class="line"><span class="comment"><span class="javascript">2. 發現組件是使用函數定義的，隨後調用該函數，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">   並將返回的虛擬DOM轉為真實DOM，呈現在頁面中。</span></span></span><br><span class="line"><span class="comment"><span class="javascript">*/</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <h2 id="類式組件"><a href="#類式組件" class="headerlink" title="類式組件"></a>類式組件</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>類式組件<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="comment">//1. 創建類式組件</span></span></span><br><span class="line"><span class="javascript"><span class="class"><span class="keyword">class</span> <span class="title">MyComponent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="comment">// render是放在哪裡的？—— MyComponent的原型對象上，供實例使用。</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// render中的this是誰？—— MyComponent的實例對象 &lt;=&gt; MyComponent組件實例對象。</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">console</span>.log(<span class="string">&#x27;render中的this:&#x27;</span>,<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是用類定義的組件(適用於【複雜組件】的定義)<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"><span class="comment">//2. 渲染組件到頁面</span></span></span><br><span class="line"><span class="javascript">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">MyComponent</span>/&gt;</span></span>,<span class="built_in">document</span>.getElementById(<span class="string">&#x27;test&#x27;</span>))</span></span><br><span class="line"><span class="javascript"><span class="comment">/* </span></span></span><br><span class="line"><span class="comment"><span class="javascript">執行到 ReactDOM.render 之後，發生了什麼？</span></span></span><br><span class="line"><span class="comment"><span class="javascript">1. React解析組件標籤，找到了MyComponent組件。</span></span></span><br><span class="line"><span class="comment"><span class="javascript">2. 發現組件是使用類定義的，隨後new出來該類的實例，</span></span></span><br><span class="line"><span class="comment"><span class="javascript">   並通過實例調用到原型上的render方法。</span></span></span><br><span class="line"><span class="comment"><span class="javascript">3. 將render返回的虛擬DOM轉為真實DOM，呈現在頁面中。</span></span></span><br><span class="line"><span class="comment"><span class="javascript">*/</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <div class="alert alert-warning" style="font-size: 16px">【補充】<br>1. 組件一定要有回傳值，否則無法渲染到頁面，所以要有 return 。<br>   &nbsp;&nbsp;&nbsp;&nbsp;而類式組件因為是繼承自 React.Component 類而來，<br>   &nbsp;&nbsp;&nbsp;&nbsp;所以 return 被包在 render( ) 方法之中。<br>2. 組件名稱，首字母一定是大寫；若小寫則會被認為是 HTML 的標籤。<br>3. 渲染組件到頁面時，組件用自封閉的 <標籤型式/> 代入作為參數。<br>4. 簡單組件與複雜組件的分別就是前者沒有「狀態 (state)」。</div>   <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> 組件 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> 組件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第二課 (JS and CSS Clock)</title>
      <link href="/2021/05/31/js30-02/"/>
      <url>/2021/05/31/js30-02/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JS 中定時觸發函式的使用</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>如何使用 JS 在 CSS 中加入屬性</li><li>如何取得現在時間</li><li>明白 setInterval( ) 的使用</li><li>複習 CSS 中 transform: rotate( ); 的使用  </li></ol><hr><h1 id="取得現在時間"><a href="#取得現在時間" class="headerlink" title="取得現在時間"></a>取得現在時間</h1><p>使用 Date( ) 函式可以取得現在的時間；<br>並搭配 getHours( )、getMinutes( )、getSeconds( )三函式，<br>可取出現在的 時、分、秒 等資訊。</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="keyword">let</span> h = date.getHours();</span><br><span class="line"><span class="keyword">let</span> m = date.getMinutes();</span><br><span class="line"><span class="keyword">let</span> s = date.getSeconds();</span><br></pre></td></tr></table></figure>  <hr><h1 id="setInterval-函式"><a href="#setInterval-函式" class="headerlink" title="setInterval 函式"></a>setInterval 函式</h1><p>設計師對於這個函式通常都不陌生，只要寫跟定時觸發有關的程式，<br>大都少不了它。此函式包含兩個參數：第一個是要定時觸發的對向，<br>而第二個是要定時多久觸發一次……嗯~相當好用的函式 :)   </p><hr><h1 id="在-CSS-中加入屬性"><a href="#在-CSS-中加入屬性" class="headerlink" title="在 CSS 中加入屬性"></a>在 CSS 中加入屬性</h1><p>先前課程學過加入 class 的屬性，使用得是 DOM.classList.add( ) 指令；<br>而現在我們想加入 style 的屬性，可以使用的是<br>DOM.style.property = ` &nbsp;  ` ; 的方式來運行。例如：</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> myDeg = <span class="number">50</span>;</span><br><span class="line">myDOM.style.transform = <span class="string">`rotate(<span class="subst">$&#123;myDeg&#125;</span>deg)`</span>;</span><br></pre></td></tr></table></figure><p>就會在 CSS 中加入下面這行屬性：</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.myDOM</span> &#123;</span><br><span class="line">    ... </span><br><span class="line">    <span class="attribute">transform</span> : <span class="built_in">rotate</span>(<span class="number">50deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>   <p>另外值得一提的是 transform-origin 屬性：<br>在 2D 繪製時它需有兩個參數，分別代表 x 軸與 y 軸的 offset。<br>若不加入這一行，預設兩個 offset 都是 50%，<br>所以在 rotate 時是由中心為圓心在旋轉；但這不符合本例的要求!!!<br>時鍾上的三指針必須永遠固定一端在鍾面的圓心上作旋轉，因此本例需加入</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">transform-origin</span> : <span class="number">50%</span> <span class="number">100%</span>;</span><br></pre></td></tr></table></figure><p>讓指針的「旋轉中心」定在 x-offset=50% &nbsp;  y-offset=100%。</p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><figcaption><span>js30-02.html</span><a href="/downloads/code/js30-02.html">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS + CSS Clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clock&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;clock-face&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hand hour-hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hand min-hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;hand second-hand&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;circle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">html</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: <span class="number">#018DED</span> <span class="built_in">url</span>(<span class="string">https://unsplash.it/1500/1000?image=881&amp;blur=5</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-family</span>: <span class="string">&#x27;helvetica neue&#x27;</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-tag">body</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="css">      <span class="attribute">flex</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.clock</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">30rem</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">30rem</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">border</span>: <span class="number">20px</span> solid white;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">padding</span>: <span class="number">2rem</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">box-shadow</span>:</span></span><br><span class="line"><span class="css">        <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.1</span>),</span></span><br><span class="line"><span class="css">        inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">#EFEFEF</span>,</span></span><br><span class="line"><span class="css">        inset <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> black,</span></span><br><span class="line"><span class="css">        <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.2</span>);</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.clock-face</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">3px</span>); <span class="comment">/* account for the height of the clock hands */</span></span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.circle</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">10%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">10%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">5%</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">5%</span>);</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.hand</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">50%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="css">      <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">4px</span>);</span></span><br><span class="line"><span class="css">      <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">100%</span>;</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.hour-hand</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">35%</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">top</span>: <span class="number">15%</span>;</span></span><br><span class="line"><span class="css">      <span class="comment">/* transform: rotate(0deg); */</span></span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.min-hand</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">3px</span>);</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.second-hand</span> {</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">6px</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background</span>: red;</span></span><br><span class="line"><span class="css">      <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">3px</span>);</span></span><br><span class="line"><span class="css">    }</span></span><br><span class="line"><span class="css"></span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hourHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.hour-hand&#x27;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> minHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.min-hand&#x27;</span>);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> secHand = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.second-hand&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">setClock</span> (<span class="params"></span>) </span>{</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> hDeg = date.getHours() * <span class="number">30</span> + date.getMinutes() * <span class="number">30</span> / <span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> mDeg = date.getMinutes() * <span class="number">6</span> + date.getSeconds() * <span class="number">6</span> / <span class="number">60</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> sDeg = date.getSeconds() * <span class="number">6</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        hourHand.style.transform = <span class="string">`rotate(<span class="subst">${hDeg}</span>deg)`</span>;</span></span><br><span class="line"><span class="javascript">        minHand.style.transform = <span class="string">`rotate(<span class="subst">${mDeg}</span>deg)`</span>;</span></span><br><span class="line"><span class="javascript">        secHand.style.transform = <span class="string">`rotate(<span class="subst">${sDeg}</span>deg)`</span>;</span></span><br><span class="line"><span class="javascript">      }</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">setInterval</span>(setClock, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>  <hr>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-02 JSX語法規則</title>
      <link href="/2021/05/30/React-02/"/>
      <url>/2021/05/30/React-02/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 JSX 語法</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>了解 JSX 之語法規則</li><li>表達式 vs 代碼</li></ol><hr><h1 id="JSX語法"><a href="#JSX語法" class="headerlink" title="JSX語法"></a>JSX語法</h1><p>JSX 全名為 JavaScript XML，它可讓設計師以簡潔、直觀的方式進行程式編寫；<br>但在使用的時侯，也須注意下列規則。</p><div class="alert alert-warning" style="font-size: 16px">JSX 語法規則：<br>1. 定義虛擬 DOM 時，不要加引號。<br>2. 在標籤中混入 JS表達式 時，要用 { }。<br>3. 以 className 取代 class 。<br>4. 若要加入行內樣式，請用 style = { { key: 'value' } } 的形式表達。<br>   &nbsp;&nbsp;&nbsp;&nbsp;其中外括號代表加入的是 JS表達式；而內括號是個 object !! <br>5. 一個 JSX script 區塊中，只允許有一個「根標籤」。所以若有多個標籤，<br>   &nbsp;&nbsp;&nbsp;&nbsp;就必須在最外面用一個 div 包起來。<br>6. 所有標籤皆須閉合。<br>7. 標籤首字母若為"小寫"，則 babel 會去尋找 HTML 中的同名元素取代；<br>   &nbsp;&nbsp;&nbsp;&nbsp;若找不到就會報錯。<br>8. 而標籤首字母若為"大寫"，則 React 就去渲染對應的組件；<br>   &nbsp;&nbsp;&nbsp;&nbsp;若組件沒有定義則會報錯。</div>  <hr><h1 id="表達式-與-語句-代碼"><a href="#表達式-與-語句-代碼" class="headerlink" title="表達式 與 語句(代碼)"></a>表達式 與 語句(代碼)</h1><p>【表達式】一個表達式會產生一個值，可以放在任何一個需要值的地方。例如：</p><ol><li>x</li><li>x+y</li><li>demo(11)</li><li>arr.map( )</li><li>function test( ) { }</li></ol><p>【語句(代碼)】例如：</p><ol><li>if( ) { }</li><li>for( ) { }</li><li>switch( ) {case: xxxx}</li></ol><div class="alert alert-warning" style="font-size: 16px">簡言之，若放一個「等號」在左邊，能接到值的就是 表達式 。</div>   <hr>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
          <category> JSX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> 語法 </tag>
            
            <tag> jsx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS30 第一課 (Drum Kit)</title>
      <link href="/2021/05/30/js30-01/"/>
      <url>/2021/05/30/js30-01/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習以 JS 語法增加和移除 CSS 中 class 的屬性</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>監聽 keydown 和 keyup 事件的分別</li><li>如何在 DOM 中藏資料與取出資料?</li><li>&lt;kbd&gt; 與 &lt;audio&gt; 的使用</li><li>querrySelector 和 getElement 系列的分別</li><li>樣板字串的用法</li><li>DOM 中如何動態加入與刪除 class 屬性</li><li>nodeList 與 array 有何不同?</li><li>如何得知 transition 效果已經結束?</li></ol><hr><h1 id="keydown-還是-keyup"><a href="#keydown-還是-keyup" class="headerlink" title="keydown 還是 keyup ?"></a>keydown 還是 keyup ?</h1><p>keydown 和 keyup 都是可掛載在 window 上面的監聽事件，<br>但若是想讓使用者能夠作「連續觸發」的動作，則必須選 keydown.</p><hr><h1 id="「藏」資料在-DOM-中"><a href="#「藏」資料在-DOM-中" class="headerlink" title="「藏」資料在 DOM 中"></a>「藏」資料在 DOM 中</h1><p>為了便利程式的運行，很多時侯我們會想(或必須)要藏資料在 DOM 裡，<br>例如像本例中作者 Wes Bos 將按鍵的 keyCode 藏在 &lt;audio&gt; 裡的 data-key 中一樣，<br>都是極其常見的手法。而當我們要取 data-key 資料時，則可用選擇器選到該 DOM，<br>並利用 ES6 的「樣板字串」表示法將其取出，如程式碼第65和72行所示。</p><div class="alert alert-danger" style="font-size: 16px;">Microsoft IE 全系列皆不支援樣板字串表示法!!!</div>  <div class="alert alert-warning" style="font-size: 16px;">請小心：<br>樣板字串須被 反引號( ` ) 所包圍；而非 引號( ' ) <br>而其中的變數則是用 ${變數} 方式來表示。</div>   <p>當我們在取出資料時，必須先用選擇器選中適當的 DOM，<br>常用的就是 querrySelector 系列與 getElectment 系列的指令；<br>而其最大的區別之一就是前者並不支援動態選定。也就是說，<br>querrySelector 系列的指令，一旦完成選擇就不會更新，直到下一次再執行指令；<br>相對的 getElement 系列會持續不斷地更新符合的 DOM，即時選中所有符合元素。  </p><p>值得一提的是：<br>querrySelectorAll 回傳的不是一組陣列，而是一組 nodeList。<br>nodeList 有 length 和 forEach( ) 可用，但不具有陣列的 map 或其他性質!!<br>如第79~82行程式碼，即使用 nodeList 的 forEach( )<br>將所有 nodeList 項目綁定監聽器。  </p><p>另外，JS也可監聽 DOM 的 transition(s) 工作，如第81行程式碼，<br>我們對所有 class 中有 key 的 DOM 進行 transitionend 的監聽，<br>可得知它們是否已完成 transition 的工作。<br>但要注意到，有幾個 transition 的工作，就會產生相同數量的 transitionend，<br><span class="text-danger">而不會在全部都完成之後才作一次通報!!</span>  </p><hr><h1 id="DOM-中動態加入與刪除-class-屬性"><a href="#DOM-中動態加入與刪除-class-屬性" class="headerlink" title="DOM 中動態加入與刪除 class 屬性"></a>DOM 中動態加入與刪除 class 屬性</h1><p>為了提升使用者體驗、即時回應事件、改變頁面配置…等等原因，<br>前端設計師經常會動態的新增或移除某些 DOM 的 class 屬性；<br>常見的做法除了使用 innerHTML 之外，<br>也可利用較為方便的 classList.add( ) 和 classList.remove( ) 來完成，<br>如第74和83行程式所示。  </p><hr><h1 id="lt-kbd-gt-and-lt-audio-gt"><a href="#lt-kbd-gt-and-lt-audio-gt" class="headerlink" title="&lt;kbd&gt; and &lt;audio&gt;"></a>&lt;kbd&gt; and &lt;audio&gt;</h1><p>&lt;kbd&gt;是一個鍵盤輸入標籤，其頁面顯示方式為 inline 的 monospace 字元。<br>而&lt;audio&gt;則是一個音頻標籤，可包含多個聲音檔。<br>要其播放時，首先用選擇器選中該元件，之後直接利用其具備之 play( ) 即可播放聲音。<br>另外，需注意到若想要有「連播」的效果，<br>必須在 play( ) <em><strong>之前</strong></em>，加入 <span class="text-primary">currentTime = 0</span>，如同第67、68行程式所示。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;keydown&#x27;</span>, keydownHandler); <span class="comment">// keyup就不可作連續的觸發!</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">keydownHandler</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// console.log(e.keyCode); // keyCode對應到上面的data-key</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 1. 播放聲音</span></span><br><span class="line">  <span class="keyword">const</span> sound = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key=&quot;<span class="subst">$&#123;e.keyCode&#125;</span>&quot;]`</span>);</span><br><span class="line">  <span class="keyword">if</span> (sound) &#123; <span class="comment">// 防止按到別的按鍵時產生錯誤的訊息</span></span><br><span class="line">    sound.currentTime = <span class="number">0</span>; <span class="comment">// 要可連播(也必需是keydown)時，需加入此行於播放之前!!!</span></span><br><span class="line">    sound.play(); <span class="comment">// &lt;audio&gt;可直接play!!</span></span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 2. 增加playing屬性到對應之DOM</span></span><br><span class="line">  <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key=&quot;<span class="subst">$&#123;e.keyCode&#125;</span>&quot;]`</span>);</span><br><span class="line">  <span class="keyword">if</span> (key) &#123;</span><br><span class="line">    key.classList.add(<span class="string">&#x27;playing&#x27;</span>); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 移除playing屬性，讓畫面恢復正常</span></span><br><span class="line"><span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;.key&#x27;</span>).forEach(<span class="function"><span class="params">key</span> =&gt;</span> &#123; <span class="comment">// querySelectorAll回傳一個nodeList</span></span><br><span class="line">                                  <span class="comment">// nodeList並非陣列，它沒有map，但有length與forEach!!!</span></span><br><span class="line">  key.addEventListener(<span class="string">&#x27;transitionend&#x27;</span>, removePlaying); <span class="comment">// 此例中transitionend有5個!!!</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removePlaying</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// console.log(e);</span></span><br><span class="line">  <span class="keyword">if</span> (e.propertyName === <span class="string">&#x27;transform&#x27;</span>) &#123; <span class="comment">// 找任一個transitionend皆可…但通常找最後一個完成的!</span></span><br><span class="line">    <span class="comment">// console.log(e.target);</span></span><br><span class="line">    e.target.classList.remove(<span class="string">&#x27;playing&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
          <category> JS30 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> javascript </tag>
            
            <tag> js30 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>React-01 虛擬DOM</title>
      <link href="/2021/05/29/React-001/"/>
      <url>/2021/05/29/React-001/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">明白 React 工作機制</div><span id="more"></span><h1 id="學習重點"><a href="#學習重點" class="headerlink" title="學習重點"></a>學習重點</h1><ol><li>什麼是虛擬DOM? 為什麼React要使用虛擬DOM? 與真實DOM有何區別?</li><li>什麼是JSX? 為什麼React要使用JSX?</li><li>什麼是babel? 它的作用為何?  </li></ol><hr><h1 id="虛擬DOM"><a href="#虛擬DOM" class="headerlink" title="虛擬DOM"></a>虛擬DOM</h1><div class="alert alert-warning" style="font-size: 16px;">React主要的工作是將使用者指定的「資料」渲染到頁面，<br>而虛擬DOM是React創建出來協助完成這項工作的重要工具。</div>  <p>乍看之下虛擬DOM的建置既浪費記憶體又多此一舉，<br>但它的優勢在於當資料量龐大且進行資料的CRUD生命週期時，<br>透過與舊有資料(真實DOM)的差異比對，<br>以達到最少渲染頁面資料的目的，讓瀏覽器的負擔減至最小, 從而提昇整體效率。  </p><p>虛擬DOM是React為了完成資料渲染工作而創建出來的，<br>因此它並不像真實DOM有著數十(甚而破百)種的屬性，<br>其屬性通常不到二十種，只是為了讓資料最有效率地呈現至頁面而存在而已。 </p><hr><h1 id="JSX與Babel"><a href="#JSX與Babel" class="headerlink" title="JSX與Babel"></a>JSX與Babel</h1><div class="alert alert-warning" style="font-size: 16px;">JSX是一種JS的「語法糖」，<br>React使用它是為了讓程式開發者能夠以更簡潔、更直觀的方式來編寫程式。</div>   <p>而瀏覽器並看不懂JSX語法，<br>所以需要babel來將JSX翻譯為JS，<br>才能交付瀏覽器以正確執行。  </p><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight html"><figcaption><span>my_hello_react.html</span><a href="/downloads/code/my_hello_react.html">view raw</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>my_hello_react<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.title</span>{ </span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="css">        }</span></span><br><span class="line"><span class="css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test_jsx&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;test_js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/react.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/react-dom.development.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;../js/babel.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/babel&quot;</span>&gt;</span><span class="javascript"> <span class="comment">// 裡面要寫的是JSX，因此需要babel翻譯為JS，否則瀏覽器看不懂!!!</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.1 創建虛擬DOM (使用 JSX)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> VDOM = ( <span class="comment">// 可用小括號，來換行、排列程式碼</span></span></span><br><span class="line"><span class="javascript">                <span class="xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">                    <span class="tag">&lt;<span class="name">span</span>&gt;</span>Hello React<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><br><span class="line"><span class="xml"><span class="javascript">                <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span></span><br><span class="line"><span class="javascript">            ); <span class="comment">// 此處絕不能加引號，因為它是JSX!!!並注意class改為className</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 2. 呼叫ReactDOM，將虛擬DOM渲染到頁面</span></span></span><br><span class="line"><span class="javascript">        ReactDOM.render(VDOM, <span class="built_in">document</span>.getElementById(<span class="string">&#x27;test_jsx&#x27;</span>));</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.2 創建虛擬DOM (使用 JS)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> VDOM_js01 = <span class="string">&quot;&lt;h1&gt;&lt;span&gt;Hello React&lt;/span&gt;&lt;/h1&gt;&quot;</span>; <span class="comment">// 不行，這會渲染成字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> VDOM_js02 = <span class="comment">// 這也是babel會翻譯成的JS代碼，並注意class改為className</span></span></span><br><span class="line"><span class="javascript">        React.createElement(<span class="string">&#x27;h1&#x27;</span>, {<span class="attr">id</span>:<span class="string">&#x27;title&#x27;</span>, <span class="attr">className</span>:<span class="string">&#x27;title&#x27;</span>}, React.createElement(<span class="string">&#x27;span&#x27;</span>, {}, <span class="string">&#x27;Hello React&#x27;</span>));</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 2. 呼叫ReactDOM，將虛擬DOM渲染到頁面</span></span></span><br><span class="line"><span class="javascript">        ReactDOM.render(VDOM_js02, <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#test_js&#x27;</span>));</span></span><br><span class="line"><span class="javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> React </category>
          
      </categories>
      
      
        <tags>
            
            <tag> react </tag>
            
            <tag> 虛擬DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MarkDown語法</title>
      <link href="/2021/05/28/MarkDown%E8%AA%9E%E6%B3%95/"/>
      <url>/2021/05/28/MarkDown%E8%AA%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<div class="alert alert-success" style="font-size: 16px">學習 Hexo 中可使用的 MarkDown 語法</div><span id="more"></span><h1 id="主標題"><a href="#主標題" class="headerlink" title="主標題"></a>主標題</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">主標題</span><br><span class="line">===</span><br></pre></td></tr></table></figure><hr><h2 id="副標題"><a href="#副標題" class="headerlink" title="副標題"></a>副標題</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">副標題</span><br><span class="line">---</span><br></pre></td></tr></table></figure><hr><h2 id="字體大小"><a href="#字體大小" class="headerlink" title="字體大小"></a>字體大小</h2><h1 id="H1"><a href="#H1" class="headerlink" title="H1"></a>H1</h1><h2 id="H2"><a href="#H2" class="headerlink" title="H2"></a>H2</h2><h3 id="H3"><a href="#H3" class="headerlink" title="H3"></a>H3</h3><h4 id="H4"><a href="#H4" class="headerlink" title="H4"></a>H4</h4><h5 id="H5"><a href="#H5" class="headerlink" title="H5"></a>H5</h5><h6 id="H6"><a href="#H6" class="headerlink" title="H6"></a>H6</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># H1</span><br><span class="line">## H2</span><br><span class="line">### H3</span><br><span class="line">#### H4</span><br><span class="line">##### H5</span><br><span class="line">###### H6</span><br></pre></td></tr></table></figure><hr><h1 id="字體樣式"><a href="#字體樣式" class="headerlink" title="字體樣式"></a>字體樣式</h1><p><em>斜體字</em><br><strong>粗體字</strong><br><em><strong>斜體兼粗體</strong></em><br><del>刪除線</del><br>正常<sup>上標</sup><br>正常<sub>下標</sub><br><u>底線</u></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*斜體字*</span><br><span class="line">**粗體字**</span><br><span class="line">***斜體兼粗體***</span><br><span class="line">~刪除線~</span><br><span class="line">正常&lt;sup&gt;上標&lt;/sup&gt;</span><br><span class="line">正常&lt;sub&gt;下標&lt;/sub&gt;</span><br><span class="line">&lt;u&gt;底線&lt;/u&gt;</span><br></pre></td></tr></table></figure><hr><h1 id="引文"><a href="#引文" class="headerlink" title="引文"></a>引文</h1><blockquote><p>第一層</p><blockquote><p>第二層</p><blockquote><p>第三層</p></blockquote></blockquote></blockquote><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&gt; 第一層</span><br><span class="line">&gt;&gt; 第二層</span><br><span class="line">&gt;&gt;&gt; 第三層</span><br></pre></td></tr></table></figure><hr><h1 id="有序項目"><a href="#有序項目" class="headerlink" title="有序項目"></a>有序項目</h1><ol><li>first</li><li>second<ol><li>second-first <span class="text-danger">(注意：一定要使用tab，不可用space)</span></li><li>second-second</li></ol></li><li>third  </li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1. first</span><br><span class="line">2. second</span><br><span class="line">    1. second-first</span><br><span class="line">    2. second-second</span><br><span class="line">3. third</span><br></pre></td></tr></table></figure><hr><h1 id="無序項目"><a href="#無序項目" class="headerlink" title="無序項目"></a>無序項目</h1><ul><li>first</li><li>second<ul><li>second-first <span class="text-danger">(注意：一定要使用tab，不可用space)</span></li><li>second-second</li></ul></li><li>third  </li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ first</span><br><span class="line">+ second</span><br><span class="line">    + second-first</span><br><span class="line">    + second-second</span><br><span class="line">+ third</span><br></pre></td></tr></table></figure><hr><h1 id="圖片"><a href="#圖片" class="headerlink" title="圖片"></a>圖片</h1><p><img src="/images/dog01.jpg" alt="汪汪01">  </p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">![汪汪01](/images/dog01.jpg)</span><br></pre></td></tr></table></figure><hr><h1 id="文字超連結"><a href="#文字超連結" class="headerlink" title="文字超連結"></a>文字超連結</h1><p>go to <a href="https://www.google.com/" title="前往Google">Google</a><br>go to section <a href="#%E5%BC%95%E6%96%87" title="前往：引文">引文</a></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">go to [Google](https://www.google.com/ &quot;前往Google&quot;)</span><br><span class="line">go to section [引文](#引文 &quot;前往：引文&quot;)</span><br></pre></td></tr></table></figure><hr><h1 id="程式碼"><a href="#程式碼" class="headerlink" title="程式碼"></a>程式碼</h1><figure class="highlight c"><figcaption><span>Example.c</span></figcaption><table><tr><td class="gutter"><pre><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line marked"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line marked"><span class="function"></span>&#123;</span><br><span class="line marked">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World.\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>  <p><img src="/images/codeBlock.png"></p><hr><h1 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h1><p><span class="text-danger">(無置右、置中等功能)</span>  </p><table><thead><tr><th>欄位1</th><th>欄位2</th><th>欄位3</th></tr></thead><tbody><tr><td>$100</td><td>$100</td><td>$100</td></tr><tr><td>$1000000</td><td>$1000000</td><td>$1000000</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| 欄位1 | 欄位2 | 欄位3 |</span><br><span class="line">| ---- | ---- | ---- |</span><br><span class="line">| $100 | $100 | $100 |</span><br><span class="line">| $1000000 | $1000000 | $1000000 |</span><br></pre></td></tr></table></figure><hr><h1 id="查核清單"><a href="#查核清單" class="headerlink" title="查核清單"></a>查核清單</h1><ul><li><input disabled="" type="checkbox"> Apple</li><li><input disabled="" type="checkbox"> Banana</li><li><input checked="" disabled="" type="checkbox"> Chocolate</li><li><input checked="" disabled="" type="checkbox"> Milk  </li></ul><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">+ [ ] Apple</span><br><span class="line">+ [ ] Banana</span><br><span class="line">+ [x] Chocolate</span><br><span class="line">+ [x] Milk</span><br></pre></td></tr></table></figure><hr>]]></content>
      
      
      <categories>
          
          <category> MarkDown </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> 語法 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
